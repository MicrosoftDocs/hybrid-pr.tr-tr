---
title: Azure ve Azure Stack hub kullanarak yüksek kullanılabilirliğe sahip Kubernetes deseninin
description: Bir Kubernetes küme çözümünün Azure ve Azure Stack hub kullanarak yüksek kullanılabilirlik sağladığını öğrenin.
author: BryanLa
ms.topic: article
ms.date: 12/03/2020
ms.author: bryanla
ms.reviewer: bryanla
ms.lastreviewed: 12/03/2020
ms.openlocfilehash: 454cc0a0531882b7a8ec050a461420ce13eebcfe
ms.sourcegitcommit: df7e3e6423c3d4e8a42dae3d1acfba1d55057258
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/09/2020
ms.locfileid: "96911796"
---
# <a name="high-availability-kubernetes-cluster-pattern"></a><span data-ttu-id="9763e-103">Yüksek kullanılabilirlik Kubernetes küme deseninin</span><span class="sxs-lookup"><span data-stu-id="9763e-103">High availability Kubernetes cluster pattern</span></span>

<span data-ttu-id="9763e-104">Bu makalede, Azure Stack hub 'ında Azure Kubernetes hizmeti (AKS) altyapısını kullanarak yüksek kullanılabilirliğe sahip bir Kubernetes tabanlı altyapının nasıl mimarileceği ve çalıştırılacağı açıklanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-104">This article describes how to architect and operate a highly available Kubernetes-based infrastructure using Azure Kubernetes Service (AKS) Engine on Azure Stack Hub.</span></span> <span data-ttu-id="9763e-105">Bu senaryo, yüksek oranda kısıtlı ve düzenlenmiş ortamlarda kritik iş yükleri olan kuruluşlar için yaygındır.</span><span class="sxs-lookup"><span data-stu-id="9763e-105">This scenario is common for organizations with critical workloads in highly restricted and regulated environments.</span></span> <span data-ttu-id="9763e-106">Finans, savunma ve kamu gibi etki alanlarındaki kuruluşlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-106">Organizations in domains such as finance, defense, and government.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="9763e-107">Bağlam ve sorun</span><span class="sxs-lookup"><span data-stu-id="9763e-107">Context and problem</span></span>

<span data-ttu-id="9763e-108">Birçok kuruluş, Kubernetes gibi son teknoloji hizmetlerinden ve teknolojilerinden yararlanan bulutta yerel çözümler geliştirmektedir.</span><span class="sxs-lookup"><span data-stu-id="9763e-108">Many organizations are developing cloud-native solutions that leverage state-of-the-art services and technologies like Kubernetes.</span></span> <span data-ttu-id="9763e-109">Azure, dünyanın çoğu bölgesinde veri merkezleri sağladığından, bazen iş açısından kritik uygulamaların belirli bir konumda çalışması gerektiği durumlar ve senaryolar da vardır.</span><span class="sxs-lookup"><span data-stu-id="9763e-109">Although Azure provides datacenters in most regions of the world, sometimes there are edge use-cases and scenarios where business critical applications must run in a specific location.</span></span> <span data-ttu-id="9763e-110">Şunlar arasında dikkat edilecek noktalar:</span><span class="sxs-lookup"><span data-stu-id="9763e-110">Considerations include:</span></span>

- <span data-ttu-id="9763e-111">Konum duyarlılığı</span><span class="sxs-lookup"><span data-stu-id="9763e-111">Location sensitivity</span></span>
- <span data-ttu-id="9763e-112">Uygulama ve şirket içi sistemler arasındaki gecikme süresi</span><span class="sxs-lookup"><span data-stu-id="9763e-112">Latency between the application and on-premises systems</span></span>
- <span data-ttu-id="9763e-113">Bant genişliği koruma</span><span class="sxs-lookup"><span data-stu-id="9763e-113">Bandwidth conservation</span></span>
- <span data-ttu-id="9763e-114">Bağlantı</span><span class="sxs-lookup"><span data-stu-id="9763e-114">Connectivity</span></span>
- <span data-ttu-id="9763e-115">Mevzuata veya yasal gereksinimler</span><span class="sxs-lookup"><span data-stu-id="9763e-115">Regulatory or statutory requirements</span></span>

<span data-ttu-id="9763e-116">Azure, Azure Stack hub ile birlikte bu kaygıların çoğunu ele alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="9763e-116">Azure, in combination with Azure Stack Hub, addresses most of these concerns.</span></span> <span data-ttu-id="9763e-117">Azure Stack Hub üzerinde çalışan bir Kubernetes uygulamasının başarıyla uygulanması için çok sayıda seçenek, kararlar ve dikkat edilecek noktalar aşağıda açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="9763e-117">A broad set of options, decisions, and considerations for a successful implementation of Kubernetes running on Azure Stack Hub is described below.</span></span>

## <a name="solution"></a><span data-ttu-id="9763e-118">Çözüm</span><span class="sxs-lookup"><span data-stu-id="9763e-118">Solution</span></span>

<span data-ttu-id="9763e-119">Bu düzende, katı bir kısıtlama kümesiyle uğraşmak zorunda olduğumuz varsayılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="9763e-119">This pattern assumes that we have to deal with a strict set of constraints.</span></span> <span data-ttu-id="9763e-120">Uygulamanın şirket içinde çalışması ve tüm kişisel verilerin genel bulut hizmetlerine ulaşamamalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-120">The application must run on-premises and all personal data must not reach public cloud services.</span></span> <span data-ttu-id="9763e-121">İzleme ve diğer PII olmayan veriler Azure 'a gönderilebilir ve burada işlenebilirler.</span><span class="sxs-lookup"><span data-stu-id="9763e-121">Monitoring and other non-PII data can be sent to Azure and be processed there.</span></span> <span data-ttu-id="9763e-122">Herkese açık bir Container Registry veya başka bir deyişle, bir güvenlik duvarı veya ara sunucu üzerinden filtrelenmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-122">External services like a public Container Registry or others can be accessed but might be filtered through a firewall or proxy server.</span></span>

<span data-ttu-id="9763e-123">Burada gösterilen örnek uygulama ( [Azure Kubernetes Service Workshop](/learn/modules/aks-workshop/)temelinde), mümkün olduğunda Kubernetes yerel çözümlerini kullanmak için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="9763e-123">The sample application shown here (based on [Azure Kubernetes Service Workshop](/learn/modules/aks-workshop/)) is designed to use Kubernetes-native solutions whenever possible.</span></span> <span data-ttu-id="9763e-124">Bu tasarım, platform yerel hizmetleri yerine satıcı kilitinin kullanılmasını önler.</span><span class="sxs-lookup"><span data-stu-id="9763e-124">This design avoids vendor lock-in, instead of using platform-native services.</span></span> <span data-ttu-id="9763e-125">Örnek olarak, uygulama PaaS hizmeti veya dış veritabanı hizmeti yerine şirket içinde barındırılan bir MongoDB veritabanı arka ucu kullanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-125">As an example, the application uses a self-hosted MongoDB database backend instead of a PaaS service or external database service.</span></span>

<span data-ttu-id="9763e-126">[![Uygulama deseninin karma](media/pattern-highly-available-kubernetes/application-architecture.png)](media/pattern-highly-available-kubernetes/application-architecture.png#lightbox)</span><span class="sxs-lookup"><span data-stu-id="9763e-126">[![Application Pattern Hybrid](media/pattern-highly-available-kubernetes/application-architecture.png)](media/pattern-highly-available-kubernetes/application-architecture.png#lightbox)</span></span>

<span data-ttu-id="9763e-127">Yukarıdaki diyagramda, Azure Stack hub 'da Kubernetes üzerinde çalışan örnek uygulamanın uygulama mimarisi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="9763e-127">The preceding diagram illustrates the application architecture of the sample application running on Kubernetes on Azure Stack Hub.</span></span> <span data-ttu-id="9763e-128">Uygulama aşağıdakiler dahil olmak üzere çeşitli bileşenlerden oluşur:</span><span class="sxs-lookup"><span data-stu-id="9763e-128">The app consists of several components, including:</span></span>

 1) <span data-ttu-id="9763e-129">Azure Stack hub 'da Kubernetes kümesi tabanlı AKS motoru.</span><span class="sxs-lookup"><span data-stu-id="9763e-129">An AKS Engine based Kubernetes cluster on Azure Stack Hub.</span></span>
 2) <span data-ttu-id="9763e-130">Kubernetes 'te sertifika yönetimi için bir araç paketi sunan [CERT-Manager](https://www.jetstack.io/cert-manager/), izin verenden otomatik olarak sertifika istemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-130">[cert-manager](https://www.jetstack.io/cert-manager/), which provides a suite of tools for certificate management in Kubernetes, used to automatically request certificates from Let's Encrypt.</span></span>
 3) <span data-ttu-id="9763e-131">Ön uç (derecelendirme-Web), API (derecelendirme-API) ve veritabanı (derecelendirmeler-MongoDB) için uygulama bileşenlerini içeren bir Kubernetes ad alanı.</span><span class="sxs-lookup"><span data-stu-id="9763e-131">A Kubernetes namespace that contains the application components for the front end (ratings-web), api (ratings-api), and database (ratings-mongodb).</span></span>
 4) <span data-ttu-id="9763e-132">HTTP/HTTPS trafiğini Kubernetes kümesi içindeki uç noktalara yönlendiren giriş denetleyicisi.</span><span class="sxs-lookup"><span data-stu-id="9763e-132">The Ingress Controller that routes HTTP/HTTPS traffic to endpoints within the Kubernetes cluster.</span></span>

<span data-ttu-id="9763e-133">Örnek uygulama, uygulama mimarisini göstermek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-133">The sample application is used to illustrate the application architecture.</span></span> <span data-ttu-id="9763e-134">Tüm bileşenler örnektir.</span><span class="sxs-lookup"><span data-stu-id="9763e-134">All components are examples.</span></span> <span data-ttu-id="9763e-135">Mimari yalnızca tek bir uygulama dağıtımı içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-135">The architecture contains only a single application deployment.</span></span> <span data-ttu-id="9763e-136">Yüksek kullanılabilirlik (HA) sağlamak için dağıtımı iki farklı Azure Stack hub örneğinde en az iki kez çalıştıracağız; aynı konumda veya iki (veya daha fazla) farklı sitede çalıştırılabilir:</span><span class="sxs-lookup"><span data-stu-id="9763e-136">To achieve high availability (HA), we'll run the deployment at least twice on two different Azure Stack Hub instances - they can run either in the same location or in two (or more) different sites:</span></span>

![Altyapı mimarisi](media/pattern-highly-available-kubernetes/aks-azure-architecture.png)

<span data-ttu-id="9763e-138">Azure Container Registry, Azure Izleyici ve diğerleri gibi hizmetler, Azure 'da veya şirket içinde Azure Stack hub 'ın dışında barındırılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-138">Services like Azure Container Registry, Azure Monitor, and others, are hosted outside Azure Stack Hub in Azure or on-premises.</span></span> <span data-ttu-id="9763e-139">Bu hibrit tasarımı, çözümü tek bir Azure Stack hub örneğinin kesintiine karşı korur.</span><span class="sxs-lookup"><span data-stu-id="9763e-139">This hybrid design protects the solution against outage of a single Azure Stack Hub instance.</span></span>

## <a name="components"></a><span data-ttu-id="9763e-140">Bileşenler</span><span class="sxs-lookup"><span data-stu-id="9763e-140">Components</span></span>

<span data-ttu-id="9763e-141">Genel mimari aşağıdaki bileşenlerden oluşur:</span><span class="sxs-lookup"><span data-stu-id="9763e-141">The overall architecture consists of the following components:</span></span>

<span data-ttu-id="9763e-142">**Azure Stack hub** , veri merkezinizde Azure hizmetleri sağlayarak Şirket içi ortamda iş yüklerini çalıştırabilecekleri bir Azure uzantısıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-142">**Azure Stack Hub** is an extension of Azure that can run workloads in an on-premises environment by providing Azure services in your datacenter.</span></span> <span data-ttu-id="9763e-143">Daha fazla bilgi edinmek için [Azure Stack hub 'a genel bakış](/azure-stack/operator/azure-stack-overview) bölümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-143">Go to [Azure Stack Hub overview](/azure-stack/operator/azure-stack-overview) to learn more.</span></span>

<span data-ttu-id="9763e-144">**Azure Kubernetes hizmet altyapısı (aks motoru)** , bugün Azure 'da kullanılabilen, yönetilen Kubernetes hizmet teklifi 'nın (aks) Azure Kubernetes hizmet sunumunun arkasındaki altyapıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-144">**Azure Kubernetes Service Engine (AKS Engine)** is the engine behind the managed Kubernetes service offering, Azure Kubernetes Service (AKS), that is available in Azure today.</span></span> <span data-ttu-id="9763e-145">Azure Stack hub 'ı için AKS motoru, Azure Stack hub 'ın IaaS yeteneklerini kullanarak tam özellikli, otomatik olarak yönetilen Kubernetes kümelerini dağıtmamıza, ölçeklendirmenize ve yükseltmemize olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-145">For Azure Stack Hub, AKS Engine allows us to deploy, scale, and upgrade fully featured, self-managed Kubernetes clusters using Azure Stack Hub's IaaS capabilities.</span></span> <span data-ttu-id="9763e-146">Daha fazla bilgi edinmek için [aks altyapısına genel bakış](https://github.com/Azure/aks-engine) bölümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-146">Go to [AKS Engine Overview](https://github.com/Azure/aks-engine) to learn more.</span></span>

<span data-ttu-id="9763e-147">Azure Stack hub 'ındaki Azure ve AKS altyapısındaki AKS motoru arasındaki farklar hakkında daha fazla bilgi edinmek için [bilinen sorunlara ve sınırlamalara](https://github.com/Azure/aks-engine/blob/master/docs/topics/azure-stack.md#known-issues-and-limitations) gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-147">Go to [Known Issues and Limitations](https://github.com/Azure/aks-engine/blob/master/docs/topics/azure-stack.md#known-issues-and-limitations) to learn more about the differences between AKS Engine on Azure and AKS Engine on Azure Stack Hub.</span></span>

<span data-ttu-id="9763e-148">**Azure sanal ağı (VNet)** , Kubernetes küme altyapısını barındıran sanal makineler (VM) için her bir Azure Stack hub 'ında ağ altyapısını sağlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-148">**Azure Virtual Network (VNet)** is used to provide the network infrastructure on each Azure Stack Hub for the Virtual Machines (VMs) hosting the Kubernetes cluster infrastructure.</span></span>

<span data-ttu-id="9763e-149">**Azure Load Balancer** , Kubernetes API uç noktası ve NGINX giriş denetleyicisi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-149">**Azure Load Balancer** is used for the Kubernetes API Endpoint and the Nginx Ingress Controller.</span></span> <span data-ttu-id="9763e-150">Yük dengeleyici, belirli bir hizmeti sunan düğümlere ve VM 'lere dış (örneğin, Internet) trafiği yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="9763e-150">The load balancer routes external (for example, Internet) traffic to nodes and VMs offering a specific service.</span></span>

<span data-ttu-id="9763e-151">**Azure Container Registry (ACR)** , kümeye dağıtılan özel Docker görüntülerini ve Helm grafiklerini depolamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-151">**Azure Container Registry (ACR)** is used to store private Docker images and Helm charts, which are deployed to the cluster.</span></span> <span data-ttu-id="9763e-152">AKS motoru, Azure AD kimliği kullanarak Container Registry kimlik doğrulaması yapabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-152">AKS Engine can authenticate with the Container Registry using an Azure AD identity.</span></span> <span data-ttu-id="9763e-153">Kubernetes için ACR gerekmez.</span><span class="sxs-lookup"><span data-stu-id="9763e-153">Kubernetes doesn't require ACR.</span></span> <span data-ttu-id="9763e-154">Docker Hub gibi başka kapsayıcı kayıt defterleri de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-154">You can use other container registries, such as Docker Hub.</span></span>

<span data-ttu-id="9763e-155">**Azure Repos** , kodunuzu yönetmek için kullanabileceğiniz bir sürüm denetim araçları kümesidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-155">**Azure Repos** is a set of version control tools that you can use to manage your code.</span></span> <span data-ttu-id="9763e-156">GitHub veya diğer git tabanlı depoları da kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-156">You can also use GitHub or other git-based repositories.</span></span> <span data-ttu-id="9763e-157">Daha fazla bilgi edinmek için [Azure Repos genel bakış](/azure/devops/repos/get-started/what-is-repos) bölümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-157">Go to [Azure Repos Overview](/azure/devops/repos/get-started/what-is-repos) to learn more.</span></span>

<span data-ttu-id="9763e-158">**Azure Pipelines** , Azure DevOps Services bir parçasıdır ve otomatikleştirilmiş derlemeler, testler ve dağıtımlar çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="9763e-158">**Azure Pipelines** is part of Azure DevOps Services and runs automated builds, tests, and deployments.</span></span> <span data-ttu-id="9763e-159">Jenkins gibi üçüncü taraf CI/CD çözümlerini de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-159">You can also use third-party CI/CD solutions such as Jenkins.</span></span> <span data-ttu-id="9763e-160">Daha fazla bilgi edinmek için Azure işlem hattına [genel bakış](/azure/devops/pipelines/get-started/what-is-azure-pipelines) bölümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-160">Go to [Azure Pipeline Overview](/azure/devops/pipelines/get-started/what-is-azure-pipelines) to learn more.</span></span>

<span data-ttu-id="9763e-161">**Azure izleyici** , çözüm ve uygulama telemetrisi içindeki Azure hizmetleri için platform ölçümleri dahil olmak üzere ölçümleri ve günlükleri toplar ve depolar.</span><span class="sxs-lookup"><span data-stu-id="9763e-161">**Azure Monitor** collects and stores metrics and logs, including platform metrics for the Azure services in the solution and application telemetry.</span></span> <span data-ttu-id="9763e-162">Bu verileri kullanarak uygulamayı izleyin, uyarıları ve panoları ayarlayın ve hataların kök neden analizini yapın.</span><span class="sxs-lookup"><span data-stu-id="9763e-162">Use this data to monitor the application, set up alerts and dashboards, and perform root cause analysis of failures.</span></span> <span data-ttu-id="9763e-163">Azure Izleyici, denetleyiciler, düğümler ve kapsayıcılardan ve kapsayıcı günlükleri ile ana düğüm günlüklerinden ölçüm toplamak için Kubernetes ile tümleşir.</span><span class="sxs-lookup"><span data-stu-id="9763e-163">Azure Monitor integrates with Kubernetes to collect metrics from controllers, nodes, and containers, as well as container logs and master node logs.</span></span> <span data-ttu-id="9763e-164">Daha fazla bilgi edinmek için [Azure izleyici 'ye genel bakış](/azure/azure-monitor/overview) bölümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-164">Go to [Azure Monitor Overview](/azure/azure-monitor/overview) to learn more.</span></span>

<span data-ttu-id="9763e-165">**Azure Traffic Manager** , trafiği farklı Azure bölgelerindeki veya Azure Stack hub dağıtımlarında en iyi şekilde dağıtmanıza olanak sağlayan DNS tabanlı bir trafik yük dengeleyicidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-165">**Azure Traffic Manager** is a DNS-based traffic load balancer that enables you to distribute traffic optimally to services across different Azure regions or Azure Stack Hub deployments.</span></span> <span data-ttu-id="9763e-166">Traffic Manager ayrıca yüksek kullanılabilirlik ve yanıt hızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-166">Traffic Manager also provides high availability and responsiveness.</span></span> <span data-ttu-id="9763e-167">Uygulama uç noktalarına dışarıdan erişebilmelidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-167">The application endpoints must be accessible from the outside.</span></span> <span data-ttu-id="9763e-168">Diğer şirket içi çözümler de mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="9763e-168">There are other on-premises solutions available as well.</span></span>

<span data-ttu-id="9763e-169">**Kubernetes giriş denetleyicisi** , bir Kubernetes KÜMESINDEKI hizmetlere http (S) yolları sunar.</span><span class="sxs-lookup"><span data-stu-id="9763e-169">**Kubernetes Ingress Controller** exposes HTTP(S) routes to services in a Kubernetes cluster.</span></span> <span data-ttu-id="9763e-170">NGINX veya uygun giriş denetleyicisi bu amaçla kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-170">Nginx or any suitable ingress controller can be used for this purpose.</span></span>

<span data-ttu-id="9763e-171">**Helm** , bir Kubernetes dağıtımı için Paket Yöneticisi, dağıtımlar, hizmetler, gizlilikler gibi farklı Kubernetes nesnelerini tek bir "grafik" olarak paketlemeyi sağlayan bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-171">**Helm** is a package manager for Kubernetes deployment, providing a way to bundle different Kubernetes objects like Deployments, Services, Secrets, into a single "chart".</span></span> <span data-ttu-id="9763e-172">Sürüm yönetimini yayımlayabilir, dağıtabilir, denetleyebilir ve bir grafik nesnesini güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-172">You can publish, deploy, control version management, and update a chart  object.</span></span> <span data-ttu-id="9763e-173">Azure Container Registry, paketlenmiş Held grafiklerini depolamak için bir depo olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-173">Azure Container Registry can be used as a repository to store packaged Helm Charts.</span></span>

## <a name="design-considerations"></a><span data-ttu-id="9763e-174">Tasarım konusunda dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="9763e-174">Design considerations</span></span>

<span data-ttu-id="9763e-175">Bu model, bu makalenin sonraki bölümlerinde daha ayrıntılı olarak açıklanan bazı üst düzey konuları izler:</span><span class="sxs-lookup"><span data-stu-id="9763e-175">This pattern follows a few high-level considerations explained in more detail in the next sections of this article:</span></span>

- <span data-ttu-id="9763e-176">Uygulama, satıcı kilitlemeyi önlemek için Kubernetes-Native çözümlerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-176">The application uses Kubernetes-native solutions, to avoid vendor lock-in.</span></span>
- <span data-ttu-id="9763e-177">Uygulama, mikro hizmet mimarisini kullanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-177">The application uses a microservices architecture.</span></span>
- <span data-ttu-id="9763e-178">Azure Stack hub 'A gelen bir bağlantı gerekmez, ancak giden Internet bağlantısına izin verir.</span><span class="sxs-lookup"><span data-stu-id="9763e-178">Azure Stack Hub doesn't need inbound but allows outbound Internet connectivity.</span></span>

<span data-ttu-id="9763e-179">Bu önerilen uygulamalar, gerçek dünyada iş yükleri ve senaryolar için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-179">These recommended practices will apply to real-world workloads and scenarios as well.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="9763e-180">Ölçeklenebilirlik konusunda dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="9763e-180">Scalability considerations</span></span>

<span data-ttu-id="9763e-181">Ölçeklenebilirlik, kullanıcılara tutarlı, güvenilir ve iyi uygulama erişimi sağlamak için önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-181">Scalability is important to provide users consistent, reliable, and well-performing access to the application.</span></span>

<span data-ttu-id="9763e-182">Örnek senaryo, uygulama yığınının birden çok katmanında ölçeklenebilirliği ele alır.</span><span class="sxs-lookup"><span data-stu-id="9763e-182">The sample scenario covers scalability on multiple layers of the application stack.</span></span> <span data-ttu-id="9763e-183">Farklı katmanlara yönelik üst düzey bir genel bakış aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="9763e-183">Here's a high-level overview of the different layers:</span></span>

| <span data-ttu-id="9763e-184">Mimari düzeyi</span><span class="sxs-lookup"><span data-stu-id="9763e-184">Architecture level</span></span> | <span data-ttu-id="9763e-185">Ekranlarını</span><span class="sxs-lookup"><span data-stu-id="9763e-185">Affects</span></span> | <span data-ttu-id="9763e-186">Nasıl yapabilirim?</span><span class="sxs-lookup"><span data-stu-id="9763e-186">How?</span></span> |
| --- | --- | ---
| <span data-ttu-id="9763e-187">Uygulama</span><span class="sxs-lookup"><span data-stu-id="9763e-187">Application</span></span> | <span data-ttu-id="9763e-188">Uygulama</span><span class="sxs-lookup"><span data-stu-id="9763e-188">Application</span></span> | <span data-ttu-id="9763e-189">Pods/çoğaltmalar sayısına göre yatay ölçekleme/Container Instances \*</span><span class="sxs-lookup"><span data-stu-id="9763e-189">Horizontal scaling based on the number of Pods/Replicas/Container Instances\*</span></span> |
| <span data-ttu-id="9763e-190">Küme</span><span class="sxs-lookup"><span data-stu-id="9763e-190">Cluster</span></span> | <span data-ttu-id="9763e-191">Kubernetes kümesi</span><span class="sxs-lookup"><span data-stu-id="9763e-191">Kubernetes cluster</span></span> | <span data-ttu-id="9763e-192">Düğüm sayısı (1 ile 50 arasında), VM-SKU-Boyutlar ve düğüm havuzları (Azure Stack hub 'daki AKS altyapısı şu anda yalnızca tek bir düğüm havuzunu desteklemektedir); AKS altyapısının Scale komutunu kullanma (el ile)</span><span class="sxs-lookup"><span data-stu-id="9763e-192">Number of Nodes (between 1 and 50), VM-SKU-sizes, and Node Pools (AKS Engine on Azure Stack Hub currently supports only a single node pool); using AKS Engine's scale command (manual)</span></span> |
| <span data-ttu-id="9763e-193">Altyapı</span><span class="sxs-lookup"><span data-stu-id="9763e-193">Infrastructure</span></span> | <span data-ttu-id="9763e-194">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="9763e-194">Azure Stack Hub</span></span> | <span data-ttu-id="9763e-195">Azure Stack hub dağıtımı içindeki düğüm, kapasite ve ölçek birimi sayısı</span><span class="sxs-lookup"><span data-stu-id="9763e-195">Number of nodes, capacity, and scale units within an Azure Stack Hub deployment</span></span> |

<span data-ttu-id="9763e-196">\* Kubernetes ' yatay Pod otomatik Scaler (HPA) kullanma; kapsayıcı örneklerini (CPU/bellek) boyutlandırarak otomatik ölçüm tabanlı ölçekleme veya dikey ölçekleme.</span><span class="sxs-lookup"><span data-stu-id="9763e-196">\* Using Kubernetes' Horizontal Pod Autoscaler (HPA); automated metric-based scaling or vertical scaling by sizing the container instances (cpu/memory).</span></span>

<span data-ttu-id="9763e-197">**Azure Stack Hub (altyapı düzeyi)**</span><span class="sxs-lookup"><span data-stu-id="9763e-197">**Azure Stack Hub (infrastructure level)**</span></span>

<span data-ttu-id="9763e-198">Azure Stack Hub bir veri merkezinde fiziksel donanımda çalıştığı için Azure Stack hub altyapısı bu uygulamanın temelidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-198">The Azure Stack Hub infrastructure is the foundation of this implementation, because Azure Stack Hub runs on physical hardware in a datacenter.</span></span> <span data-ttu-id="9763e-199">Hub donanımınızı seçerken CPU, bellek yoğunluğu, depolama yapılandırması ve sunucu sayısı için seçimler yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-199">When selecting your Hub hardware, you need to make choices for CPU, memory density, storage configuration, and number of servers.</span></span> <span data-ttu-id="9763e-200">Azure Stack hub 'ın ölçeklenebilirliği hakkında daha fazla bilgi edinmek için aşağıdaki kaynaklara göz atın:</span><span class="sxs-lookup"><span data-stu-id="9763e-200">To learn more about Azure Stack Hub's scalability, check out the following resources:</span></span>

- [<span data-ttu-id="9763e-201">Azure Stack hub 'a genel bakış için kapasite planlaması</span><span class="sxs-lookup"><span data-stu-id="9763e-201">Capacity planning for Azure Stack Hub overview</span></span>](/azure-stack/operator/azure-stack-capacity-planning-overview)
- [<span data-ttu-id="9763e-202">Azure Stack hub 'ına ek ölçek birimi düğümleri ekleme</span><span class="sxs-lookup"><span data-stu-id="9763e-202">Add additional scale unit nodes in Azure Stack Hub</span></span>](/azure-stack/operator/azure-stack-add-scale-node)

<span data-ttu-id="9763e-203">**Kubernetes kümesi (küme düzeyi)**</span><span class="sxs-lookup"><span data-stu-id="9763e-203">**Kubernetes cluster (cluster level)**</span></span>

<span data-ttu-id="9763e-204">Kubernetes kümesi, ' den oluşur ve işlem, depolama ve ağ kaynakları dahil olmak üzere Azure (Stack) IaaS bileşenlerinin üzerine kurulmuştur.</span><span class="sxs-lookup"><span data-stu-id="9763e-204">The Kubernetes cluster itself consists of, and is built on top of Azure (Stack) IaaS components including compute, storage, and network resources.</span></span> <span data-ttu-id="9763e-205">Kubernetes çözümleri, Azure 'da (ve Azure Stack hub) VM olarak dağıtılan ana ve çalışan düğümlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-205">Kubernetes solutions involve master and worker nodes, which are deployed as VMs in Azure (and Azure Stack Hub).</span></span>

- <span data-ttu-id="9763e-206">[Denetim düzlemi düğümleri](/azure/aks/concepts-clusters-workloads#control-plane) (ana), uygulama iş yüklerinin temel Kubernetes hizmetlerini ve düzenlemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-206">[Control plane nodes](/azure/aks/concepts-clusters-workloads#control-plane) (master) provide the core Kubernetes services and orchestration of application workloads.</span></span>
- <span data-ttu-id="9763e-207">[Çalışan düğümleri](/azure/aks/concepts-clusters-workloads#nodes-and-node-pools) (çalışan) uygulama iş yüklerinizi çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="9763e-207">[Worker nodes](/azure/aks/concepts-clusters-workloads#nodes-and-node-pools) (worker) run your application workloads.</span></span>

<span data-ttu-id="9763e-208">İlk dağıtım için VM boyutlarını seçerken bazı hususlar vardır:</span><span class="sxs-lookup"><span data-stu-id="9763e-208">When selecting VM sizes for the initial deployment, there are several considerations:</span></span>  

- <span data-ttu-id="9763e-209">**Maliyet** -çalışan düğümlerinizi planlarken, sanal makine başına genel maliyeti göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="9763e-209">**Cost** - When planning your worker nodes, keep in mind the overall cost per VM you'll incur.</span></span> <span data-ttu-id="9763e-210">Örneğin, uygulama iş yükleriniz sınırlı kaynaklar gerektiriyorsa, daha küçük boyutlu sanal makineler dağıtmayı planlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-210">For example, if your application workloads require limited resources, you should plan to deploy smaller sized VMs.</span></span> <span data-ttu-id="9763e-211">Azure gibi Azure Stack hub, normalde bir Tüketim esasına göre faturalandırılır. böylece, Kubernetes rollerinin VM 'lerinin uygun şekilde boyutlandırılması, tüketim maliyetlerini iyileştirmek için önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-211">Azure Stack Hub, like Azure, is normally billed on a consumption basis, so appropriately sizing the VMs for Kubernetes roles is crucial to optimizing consumption costs.</span></span> 

- <span data-ttu-id="9763e-212">**Ölçeklenebilirlik** -kümenin ölçeklenebilirliği, ana ve çalışan düğümlerin sayısını ve sayısını ölçeklendirerek ya da ek düğüm havuzları ekleyerek (bugün Azure Stack hub 'ında kullanılamaz) elde edilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-212">**Scalability** - Scalability of the cluster is achieved by scaling in and out the number of master and worker nodes, or by adding additional node pools (not available on Azure Stack Hub today).</span></span> <span data-ttu-id="9763e-213">Kümenin ölçeklendirilmesi, kapsayıcı öngörüleri kullanılarak toplanan performans verilerine göre yapılabilir (Azure Izleyici + Log Analytics).</span><span class="sxs-lookup"><span data-stu-id="9763e-213">Scaling the cluster can be done based on performance data, collected using Container Insights (Azure Monitor + Log Analytics).</span></span> 

    <span data-ttu-id="9763e-214">Uygulamanız daha fazla (veya daha az) kaynağa ihtiyaç duyuyorsa, geçerli düğümlerinizi yatay olarak (1 ile 50 düğüm arasında) ölçeklendirebilirsiniz (veya bu düğümleri).</span><span class="sxs-lookup"><span data-stu-id="9763e-214">If your application needs more (or fewer) resources, you can scale out (or in) your current nodes horizontally (between 1 and 50 nodes).</span></span> <span data-ttu-id="9763e-215">50 ' den fazla düğüme ihtiyacınız varsa, ayrı bir abonelikte ek bir küme oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-215">If you need more than 50 nodes, you can create an additional cluster in a separate subscription.</span></span> <span data-ttu-id="9763e-216">Kümeyi yeniden dağıtmaya gerek kalmadan gerçek VM 'Leri dikey olarak başka bir VM boyutuna ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-216">You can't scale up the actual VMs vertically to another VM size without redeploying the cluster.</span></span>

    <span data-ttu-id="9763e-217">Ölçeklendirme, başlangıçta Kubernetes kümesini dağıtmak için kullanılan AKS motoru yardımcı VM kullanılarak el ile yapılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-217">Scaling is done manually using the AKS Engine helper VM that was used to deploy the Kubernetes cluster initially.</span></span> <span data-ttu-id="9763e-218">Daha fazla bilgi için bkz. [Kubernetes kümelerini ölçeklendirme](https://github.com/Azure/aks-engine/blob/master/docs/topics/scale.md)</span><span class="sxs-lookup"><span data-stu-id="9763e-218">For more information, see [Scaling Kubernetes clusters](https://github.com/Azure/aks-engine/blob/master/docs/topics/scale.md)</span></span>

- <span data-ttu-id="9763e-219">**Kotalar** -Azure Stack hub 'ınızda aks dağıtımını planlarken yapılandırdığınız [kotaları](/azure-stack/operator/azure-stack-quota-types) değerlendirin.</span><span class="sxs-lookup"><span data-stu-id="9763e-219">**Quotas** - Consider the [quotas](/azure-stack/operator/azure-stack-quota-types) you've configured when planning out an AKS deployment on your Azure Stack Hub.</span></span> <span data-ttu-id="9763e-220">Her [aboneliğin](/azure-stack/operator/service-plan-offer-subscription-overview) uygun planlara ve yapılandırılmış kotalara sahip olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="9763e-220">Make sure each [subscription](/azure-stack/operator/service-plan-offer-subscription-overview) has the proper plans and the quotas configured.</span></span> <span data-ttu-id="9763e-221">Aboneliğin ölçek genişletme sırasında, kümeleriniz için gereken işlem, depolama ve diğer hizmet miktarına uyum sağlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-221">The subscription will need to accommodate the amount of compute, storage, and other services needed for your clusters as they scale out.</span></span>

- <span data-ttu-id="9763e-222">**Uygulama iş yükleri** -Azure Kubernetes hizmet belgesi Için Kubernetes temel kavramlarıyla ilgili [kümeler ve iş yükleri kavramlarını](/azure/aks/concepts-clusters-workloads#nodes-and-node-pools) inceleyin.</span><span class="sxs-lookup"><span data-stu-id="9763e-222">**Application workloads** - Refer to the [Clusters and workloads concepts](/azure/aks/concepts-clusters-workloads#nodes-and-node-pools) in the Kubernetes core concepts for Azure Kubernetes Service document.</span></span> <span data-ttu-id="9763e-223">Bu makale, uygulamanızın işlem ve bellek ihtiyaçlarına göre doğru VM boyutunu kapsammanıza yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="9763e-223">This article will help you scope the proper VM size based on the compute and memory needs of your application.</span></span>  

<span data-ttu-id="9763e-224">**Uygulama (uygulama düzeyi)**</span><span class="sxs-lookup"><span data-stu-id="9763e-224">**Application (application level)**</span></span>

<span data-ttu-id="9763e-225">Uygulama katmanında Kubernetes [yatay Pod otomatik Scaler (HPA)](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/)kullanıyoruz.</span><span class="sxs-lookup"><span data-stu-id="9763e-225">On the application layer, we use Kubernetes [Horizontal Pod Autoscaler (HPA)](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/).</span></span> <span data-ttu-id="9763e-226">HPA, farklı ölçümlere (CPU kullanımı gibi) bağlı olarak dağıtımımız kopyaların (pod/Container Instances) sayısını artırabilir veya azaltabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-226">HPA can increase or decrease the number of Replicas (Pod/Container Instances) in our deployment based on different metrics (like CPU utilization).</span></span>

<span data-ttu-id="9763e-227">Diğer bir seçenek de kapsayıcı örneklerinin dikey olarak ölçeklendirilmesine olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-227">Another option is to scale container instances vertically.</span></span> <span data-ttu-id="9763e-228">Bu, belirli bir dağıtım için istenen CPU ve bellek miktarı değiştirilerek gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-228">This can be accomplished by changing the amount of CPU and Memory requested and available for a specific deployment.</span></span> <span data-ttu-id="9763e-229">Daha fazla bilgi için bkz. kubernetes.io üzerinde [kapsayıcılar Için kaynakları yönetme](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/) .</span><span class="sxs-lookup"><span data-stu-id="9763e-229">See [Managing Resources for Containers](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/) on kubernetes.io to learn more.</span></span>

## <a name="networking-and-connectivity-considerations"></a><span data-ttu-id="9763e-230">Ağ ve bağlantı konuları</span><span class="sxs-lookup"><span data-stu-id="9763e-230">Networking and connectivity considerations</span></span>

<span data-ttu-id="9763e-231">Ağ ve bağlantı, daha önce Azure Stack hub 'ında Kubernetes için bahsedilen üç katmanı da etkiler.</span><span class="sxs-lookup"><span data-stu-id="9763e-231">Networking and connectivity also affect the three layers mentioned previously for Kubernetes on Azure Stack Hub.</span></span> <span data-ttu-id="9763e-232">Aşağıdaki tabloda, katmanları ve içerdikleri hizmetler gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="9763e-232">The following table shows the layers and which services they contain:</span></span>

| <span data-ttu-id="9763e-233">Katman</span><span class="sxs-lookup"><span data-stu-id="9763e-233">Layer</span></span> | <span data-ttu-id="9763e-234">Ekranlarını</span><span class="sxs-lookup"><span data-stu-id="9763e-234">Affects</span></span> | <span data-ttu-id="9763e-235">Ne?</span><span class="sxs-lookup"><span data-stu-id="9763e-235">What?</span></span> |
| --- | --- | ---
| <span data-ttu-id="9763e-236">Uygulama</span><span class="sxs-lookup"><span data-stu-id="9763e-236">Application</span></span> | <span data-ttu-id="9763e-237">Uygulama</span><span class="sxs-lookup"><span data-stu-id="9763e-237">Application</span></span> | <span data-ttu-id="9763e-238">Uygulama nasıl erişilebilir?</span><span class="sxs-lookup"><span data-stu-id="9763e-238">How is the application accessible?</span></span> <span data-ttu-id="9763e-239">Internet 'e sunulacak mı?</span><span class="sxs-lookup"><span data-stu-id="9763e-239">Will it be exposed to the Internet?</span></span> |
| <span data-ttu-id="9763e-240">Küme</span><span class="sxs-lookup"><span data-stu-id="9763e-240">Cluster</span></span> | <span data-ttu-id="9763e-241">Kubernetes kümesi</span><span class="sxs-lookup"><span data-stu-id="9763e-241">Kubernetes cluster</span></span> | <span data-ttu-id="9763e-242">Kubernetes API 'SI, AKS motoru VM, kapsayıcı görüntüleri çekme (çıkış), izleme verileri ve telemetri gönderme (çıkış)</span><span class="sxs-lookup"><span data-stu-id="9763e-242">Kubernetes API, AKS Engine VM, Pulling container images (egress), Sending monitoring data and telemetry (egress)</span></span> |
| <span data-ttu-id="9763e-243">Altyapı</span><span class="sxs-lookup"><span data-stu-id="9763e-243">Infrastructure</span></span> | <span data-ttu-id="9763e-244">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="9763e-244">Azure Stack Hub</span></span> | <span data-ttu-id="9763e-245">Portal ve Azure Resource Manager uç noktaları gibi Azure Stack merkezi yönetim uç noktaları erişilebilirliği.</span><span class="sxs-lookup"><span data-stu-id="9763e-245">Accessibility of the Azure Stack Hub management endpoints like the portal and Azure Resource Manager endpoints.</span></span> |

<span data-ttu-id="9763e-246">**Uygulama**</span><span class="sxs-lookup"><span data-stu-id="9763e-246">**Application**</span></span>

<span data-ttu-id="9763e-247">Uygulama katmanı için en önemli nokta, uygulamanın Internet 'ten sunulup erişilebilir olup olmadığına göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="9763e-247">For the application layer, the most important consideration is whether the application is exposed and accessible from the Internet.</span></span> <span data-ttu-id="9763e-248">Bir Kubernetes perspektifinden, Internet erişilebilirliği bir Kubernetes hizmeti veya giriş denetleyicisi kullanarak bir dağıtımı veya Pod 'yi ortaya çıkarmaktadır.</span><span class="sxs-lookup"><span data-stu-id="9763e-248">From a Kubernetes perspective, Internet accessibility means exposing a deployment or pod using a Kubernetes Service or an Ingress Controller.</span></span>

> [!NOTE]
> <span data-ttu-id="9763e-249">Azure Stack hub 'daki ön uç genel IP sayısı 5 ile sınırlı olduğundan, Kubernetes hizmetlerini kullanıma sunmak için giriş denetleyicilerinin kullanılmasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="9763e-249">We recommend the use of Ingress controllers to expose Kubernetes Services as the number of Frontend public IPs on Azure Stack Hub is limited to 5.</span></span> <span data-ttu-id="9763e-250">Bu tasarım Ayrıca, Kubernetes hizmetlerinin sayısını (yük dengeleyici olan) 5 olarak sınırlar ve bu da birçok dağıtım için çok küçük olacaktır.</span><span class="sxs-lookup"><span data-stu-id="9763e-250">This design also limits the number of Kubernetes Services (with the type LoadBalancer) to 5, which will be too small for many deployments.</span></span> <span data-ttu-id="9763e-251">Daha fazla bilgi edinmek için [aks altyapısı belgelerine](https://github.com/Azure/aks-engine/blob/master/docs/topics/azure-stack.md#limited-number-of-frontend-public-ips) gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-251">Go to the [AKS Engine documentation](https://github.com/Azure/aks-engine/blob/master/docs/topics/azure-stack.md#limited-number-of-frontend-public-ips) to learn more.</span></span>

<span data-ttu-id="9763e-252">Bir Load Balancer veya giriş denetleyicisi aracılığıyla genel IP kullanan bir uygulamayı göstermek, uygulamanın artık Internet üzerinden erişilebilir olduğunu ortaya çıkarmaz.</span><span class="sxs-lookup"><span data-stu-id="9763e-252">Exposing an application using a public IP via a Load Balancer or an Ingress Controller doesn't nessecarily mean that the application is now accessible via the Internet.</span></span> <span data-ttu-id="9763e-253">Azure Stack hub 'ının yalnızca yerel intranette görünen genel IP adresine sahip olması mümkündür. tüm genel IP 'Ler gerçekten Internet 'e açık değildir.</span><span class="sxs-lookup"><span data-stu-id="9763e-253">It's possible for Azure Stack Hub to have a public IP address that is only visible on the local intranet - not all public IPs are truly Internet-facing.</span></span>

<span data-ttu-id="9763e-254">Önceki blok, uygulamaya giriş trafiğini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="9763e-254">The previous block considers ingress traffic to the application.</span></span> <span data-ttu-id="9763e-255">Başarılı bir Kubernetes dağıtımı için göz önünde bulundurmanız gereken başka bir konu, giden/çıkış trafiğidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-255">Another topic that must be considered for a successful Kubernetes deployment is outbound/egress traffic.</span></span> <span data-ttu-id="9763e-256">Çıkış trafiği gerektiren birkaç kullanım durumu aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="9763e-256">Here are a few use cases that require egress traffic:</span></span>

- <span data-ttu-id="9763e-257">DockerHub veya Azure Container Registry depolanan kapsayıcı görüntülerini çekme</span><span class="sxs-lookup"><span data-stu-id="9763e-257">Pulling Container Images stored on DockerHub or Azure Container Registry</span></span>
- <span data-ttu-id="9763e-258">Held grafiklerini alma</span><span class="sxs-lookup"><span data-stu-id="9763e-258">Retrieving Helm Charts</span></span>
- <span data-ttu-id="9763e-259">Application Insights verileri (veya diğer izleme verilerini) yayma</span><span class="sxs-lookup"><span data-stu-id="9763e-259">Emitting Application Insights data (or other monitoring data)</span></span>

<span data-ttu-id="9763e-260">Bazı kurumsal ortamlar, _saydam_ veya _saydam olmayan_ ara sunucu kullanımını gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-260">Some enterprise environments might require the use of _transparent_ or _non-transparent_ proxy servers.</span></span> <span data-ttu-id="9763e-261">Bu sunucular, kümeimizin çeşitli bileşenlerinde belirli bir yapılandırma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="9763e-261">These servers require specific configuration on various components of our cluster.</span></span> <span data-ttu-id="9763e-262">AKS altyapısı belgeleri, ağ proxy 'lerine uyum hakkında çeşitli ayrıntılar içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-262">The AKS Engine documentation contains various details on how to accommodate network proxies.</span></span> <span data-ttu-id="9763e-263">Daha ayrıntılı bilgi için bkz. [aks altyapısı ve proxy sunucuları](https://github.com/Azure/aks-engine/blob/master/docs/topics/proxy-servers.md)</span><span class="sxs-lookup"><span data-stu-id="9763e-263">For more details, see [AKS Engine and proxy servers](https://github.com/Azure/aks-engine/blob/master/docs/topics/proxy-servers.md)</span></span>

<span data-ttu-id="9763e-264">Son olarak, çapraz küme trafiği Azure Stack hub örnekleri arasında akmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-264">Lastly, cross-cluster traffic must flow between Azure Stack Hub instances.</span></span> <span data-ttu-id="9763e-265">Örnek dağıtım, bireysel Azure Stack hub örneklerinde çalışan tek bir Kubernetes kümelerinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="9763e-265">The sample deployment consists of individual Kubernetes clusters running on individual Azure Stack Hub instances.</span></span> <span data-ttu-id="9763e-266">İki veritabanı arasındaki çoğaltma trafiği gibi aralarındaki trafik "dış trafik" olur.</span><span class="sxs-lookup"><span data-stu-id="9763e-266">Traffic between them, such as the replication traffic between two databases, is "external traffic".</span></span> <span data-ttu-id="9763e-267">Dış trafik iki Azure Stack hub örneğine Kubernetes bağlamak için bir siteden siteye VPN veya Azure Stack hub ortak IP adresleri üzerinden yönlendirilmelidir:</span><span class="sxs-lookup"><span data-stu-id="9763e-267">External traffic must be routed through either a Site-to-Site VPN or Azure Stack Hub Public IP addresses to connect Kubernetes on two Azure Stack Hub instances:</span></span>

![şirketler arası ve içi küme trafiği](media/pattern-highly-available-kubernetes/aks-inter-and-intra-cluster-traffic.png)

<span data-ttu-id="9763e-269">**Küme**</span><span class="sxs-lookup"><span data-stu-id="9763e-269">**Cluster**</span></span>  

<span data-ttu-id="9763e-270">Kubernetes kümesinin Internet üzerinden erişilebilir olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="9763e-270">The Kubernetes cluster doesn't necessarily need to be accessible via the Internet.</span></span> <span data-ttu-id="9763e-271">İlgili bölüm, bir kümeyi çalıştırmak için kullanılan Kubernetes API 'sidir, örneğin kullanarak `kubectl` .</span><span class="sxs-lookup"><span data-stu-id="9763e-271">The relevant part is the Kubernetes API used to operate a cluster, for example, using `kubectl`.</span></span> <span data-ttu-id="9763e-272">Kubernetes API uç noktası, kümeyi çalıştıran herkes tarafından erişilebilir olmalıdır veya üzerine uygulama ve hizmetler dağıtır.</span><span class="sxs-lookup"><span data-stu-id="9763e-272">The Kubernetes API endpoint must be accessible to everyone who operates the cluster or deploys applications and services on top of it.</span></span> <span data-ttu-id="9763e-273">Bu konu, aşağıdaki [dağıtım (CI/CD) konuları](#deployment-cicd-considerations) bölümündeki DevOps-perspektifinden daha ayrıntılı bir şekilde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="9763e-273">This topic is covered in more detail from a DevOps-perspective in the [Deployment (CI/CD) considerations](#deployment-cicd-considerations) section below.</span></span>

<span data-ttu-id="9763e-274">Küme düzeyinde, çıkış trafiğiyle ilgili bazı konular da vardır:</span><span class="sxs-lookup"><span data-stu-id="9763e-274">On the cluster level, there are also a few considerations around egress-traffic:</span></span>

- <span data-ttu-id="9763e-275">Düğüm güncelleştirmeleri (Ubuntu için)</span><span class="sxs-lookup"><span data-stu-id="9763e-275">Node updates (for Ubuntu)</span></span>
- <span data-ttu-id="9763e-276">İzleme verileri (Azure LogAnalytics 'e gönderilir)</span><span class="sxs-lookup"><span data-stu-id="9763e-276">Monitoring data (sent to Azure LogAnalytics)</span></span>
- <span data-ttu-id="9763e-277">Giden trafik gerektiren diğer aracılar (her bir dağıtıcı ortamına özel)</span><span class="sxs-lookup"><span data-stu-id="9763e-277">Other agents requiring outbound traffic (specific to each deployer's environment)</span></span>

<span data-ttu-id="9763e-278">AKS altyapısını kullanarak Kubernetes kümenizi dağıtmadan önce, son ağ tasarımını planlayın.</span><span class="sxs-lookup"><span data-stu-id="9763e-278">Before you deploy your Kubernetes cluster using AKS Engine, plan for the final networking design.</span></span> <span data-ttu-id="9763e-279">Ayrılmış bir sanal ağ oluşturmak yerine, bir kümeyi var olan bir ağa dağıtmak daha verimli olabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-279">Instead of creating a dedicated Virtual Network, it may be more efficient to deploy a cluster into an existing network.</span></span> <span data-ttu-id="9763e-280">Örneğin, Azure Stack hub ortamınızda zaten yapılandırılmış olan bir siteden siteye VPN bağlantısından yararlanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-280">For example, you might leverage an existing Site-to-Site VPN connection already configured in your Azure Stack Hub environment.</span></span>

<span data-ttu-id="9763e-281">**Altyapı**</span><span class="sxs-lookup"><span data-stu-id="9763e-281">**Infrastructure**</span></span>  

<span data-ttu-id="9763e-282">Altyapı, Azure Stack hub yönetim uç noktalarına erişme anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="9763e-282">Infrastructure refers to accessing the Azure Stack Hub management endpoints.</span></span> <span data-ttu-id="9763e-283">Uç noktalar kiracı ve yönetici portalları ve Azure Resource Manager yönetici ve kiracı uç noktaları içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-283">Endpoints include the tenant and admin portals, and the Azure Resource Manager admin and tenant endpoints.</span></span> <span data-ttu-id="9763e-284">Bu uç noktalar Azure Stack hub 'ı ve çekirdek hizmetlerini çalıştırmak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-284">These endpoints are required to operate Azure Stack Hub and its core services.</span></span>

## <a name="data-and-storage-considerations"></a><span data-ttu-id="9763e-285">Veri ve depolama konuları</span><span class="sxs-lookup"><span data-stu-id="9763e-285">Data and storage considerations</span></span>

<span data-ttu-id="9763e-286">İki ayrı bir Kubernetes kümesinde, uygulamamız için iki örnek iki Azure Stack hub örneği üzerinden dağıtılacaktır.</span><span class="sxs-lookup"><span data-stu-id="9763e-286">Two instances of our application will be deployed, on two individual Kubernetes clusters, across two Azure Stack Hub instances.</span></span> <span data-ttu-id="9763e-287">Bu tasarıma, aralarındaki verileri nasıl çoğaltacağınızı ve eşitleyeceğiniz hakkında düşünmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-287">This design will require us to consider how to replicate and synchronize data between them.</span></span>

<span data-ttu-id="9763e-288">Azure sayesinde, depolamayı bulut içindeki birden çok bölgeye ve bölgeye çoğaltmak için yerleşik bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="9763e-288">With Azure, we have the built-in capability to replicate storage across multiple regions and zones within the cloud.</span></span> <span data-ttu-id="9763e-289">Şu anda Azure Stack hub ile iki farklı Azure Stack hub örneğine depolama çoğaltmak için yerel bir yol yoktur. Bunlar, bunları bir küme olarak yönetmeyecek şekilde, iki bağımsız bulut oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9763e-289">Currently with Azure Stack Hub there are no native ways to replicate storage across two different Azure Stack Hub instances - they form two independent clouds with no overarching way to manage them as a set.</span></span> <span data-ttu-id="9763e-290">Azure Stack hub 'da çalışan uygulamaların dayanıklılık planlaması, bu bağımsızlık 'yi uygulama tasarımınızda ve dağıtımlarınızda göz önünde bulundurmaya zorlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-290">Planning for resiliency of applications running across Azure Stack Hub forces you to consider this independence in your application design and deployments.</span></span>

<span data-ttu-id="9763e-291">Çoğu durumda, AKS üzerinde dağıtılan dayanıklı ve yüksek oranda kullanılabilir bir uygulama için depolama çoğaltması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="9763e-291">In most cases, storage replication won't be necessary for a resilient and highly available application deployed on AKS.</span></span> <span data-ttu-id="9763e-292">Ancak, uygulama tasarımınızda Azure Stack hub örneği başına bağımsız depolama alanı göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-292">But you should consider independent storage per Azure Stack Hub instance in your application design.</span></span> <span data-ttu-id="9763e-293">Bu tasarım, çözümü Azure Stack hub 'a dağıtmaya yönelik bir sorun veya yol bloğudur, Microsoft Iş ortaklarının depolama ekleri sağlayan olası çözümleri vardır.</span><span class="sxs-lookup"><span data-stu-id="9763e-293">If this design is a concern or road block to deploying the solution on Azure Stack Hub, there are possible solutions from Microsoft Partners that provide storage attachments.</span></span> <span data-ttu-id="9763e-294">Depolama ekleri, birden çok Azure Stack hub ve Azure arasında bir depolama çoğaltma çözümü sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-294">Storage attachments provide a storage replication solution across multiple Azure Stack Hubs and Azure.</span></span> <span data-ttu-id="9763e-295">Daha fazla bilgi için bkz. [Iş ortağı çözümleri](#partner-solutions).</span><span class="sxs-lookup"><span data-stu-id="9763e-295">For more information, see the [Partner solutions](#partner-solutions).</span></span>

<span data-ttu-id="9763e-296">Mimarimizde bu katmanlar göz önünde bulundurulmıştı:</span><span class="sxs-lookup"><span data-stu-id="9763e-296">In our architecture, these layers were considered:</span></span>

<span data-ttu-id="9763e-297">**Yapılandırma**</span><span class="sxs-lookup"><span data-stu-id="9763e-297">**Configuration**</span></span>

<span data-ttu-id="9763e-298">Yapılandırma Azure Stack hub, AKS altyapısının ve Kubernetes kümesinin yapılandırmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-298">Configuration includes the configuration of Azure Stack Hub, AKS Engine, and the Kubernetes cluster itself.</span></span> <span data-ttu-id="9763e-299">Yapılandırma mümkün olduğunca otomatikleştirilebilir ve Azure DevOps veya GitHub gibi git tabanlı bir sürüm denetim sisteminde kod olarak altyapı olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-299">The configuration should be automated as much as possible, and stored as Infrastructure-as-Code in a Git-based version control system like Azure DevOps or GitHub.</span></span> <span data-ttu-id="9763e-300">Bu ayarlar birden fazla dağıtımda kolayca eşitlenemez.</span><span class="sxs-lookup"><span data-stu-id="9763e-300">These settings cannot easily be synchronized across multiple deployments.</span></span> <span data-ttu-id="9763e-301">Bu nedenle, yapılandırmayı depolamadan ve DevOps işlem hattını kullanarak depolamayı ve uygulamayı öneririz.</span><span class="sxs-lookup"><span data-stu-id="9763e-301">Therefore we recommend storing and applying configuration from the outside, and using DevOps pipeline.</span></span>

<span data-ttu-id="9763e-302">**Uygulama**</span><span class="sxs-lookup"><span data-stu-id="9763e-302">**Application**</span></span>

<span data-ttu-id="9763e-303">Uygulama, git tabanlı bir depoda depolanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-303">The application should be stored in a Git-based repository.</span></span> <span data-ttu-id="9763e-304">Yeni bir dağıtım, uygulamada yapılan değişiklikler veya olağanüstü durum kurtarma her seferinde Azure Pipelines kullanılarak kolayca dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-304">Whenever there's a new deployment, changes to the application, or disaster recovery, it can be easily deployed using Azure Pipelines.</span></span>

<span data-ttu-id="9763e-305">**Veriler**</span><span class="sxs-lookup"><span data-stu-id="9763e-305">**Data**</span></span>

<span data-ttu-id="9763e-306">Veriler çoğu uygulama tasarımlarında en önemli noktadır.</span><span class="sxs-lookup"><span data-stu-id="9763e-306">Data is the most important consideration in most application designs.</span></span> <span data-ttu-id="9763e-307">Uygulama verileri, uygulamanın farklı örnekleri arasında eşitlenmiş olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-307">Application data must stay in sync between the different instances of the application.</span></span> <span data-ttu-id="9763e-308">Ayrıca, bir kesinti olursa verilerin bir yedekleme ve olağanüstü durum kurtarma stratejisi olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-308">Data also needs a backup and disaster recovery strategy if there's an outage.</span></span>

<span data-ttu-id="9763e-309">Bu tasarıma ulaşmak, teknoloji seçimlerine göre farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="9763e-309">Achieving this design depends heavily on technology choices.</span></span> <span data-ttu-id="9763e-310">Bir veritabanını Azure Stack hub 'ında yüksek oranda kullanılabilir bir biçimde uygulamaya yönelik bazı çözüm örnekleri aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="9763e-310">Here are some solution examples for implementing a database in a highly available fashion on Azure Stack Hub:</span></span>

- [<span data-ttu-id="9763e-311">Azure ve Azure Stack hub 'a SQL Server 2016 kullanılabilirlik grubu dağıtma</span><span class="sxs-lookup"><span data-stu-id="9763e-311">Deploy a SQL Server 2016 availability group to Azure and Azure Stack Hub</span></span>](/azure-stack/hybrid/solution-deployment-guide-sql-ha)
- [<span data-ttu-id="9763e-312">Yüksek oranda kullanılabilir bir MongoDB çözümünü Azure 'a ve Azure Stack hub 'a dağıtma</span><span class="sxs-lookup"><span data-stu-id="9763e-312">Deploy a highly available MongoDB solution to Azure and Azure Stack Hub</span></span>](/azure-stack/hybrid/solution-deployment-guide-mongodb-ha)

<span data-ttu-id="9763e-313">Birden çok konumdaki verilerle çalışırken dikkat edilmesi gereken noktalar, yüksek oranda kullanılabilir ve dayanıklı bir çözüm için daha karmaşık bir konudur.</span><span class="sxs-lookup"><span data-stu-id="9763e-313">Considerations when working with data across multiple locations is an even more complex consideration for a highly available and resilient solution.</span></span> <span data-ttu-id="9763e-314">Aşağıdakileri dikkate alın:</span><span class="sxs-lookup"><span data-stu-id="9763e-314">Consider:</span></span>

- <span data-ttu-id="9763e-315">Azure Stack hub 'Lar arasındaki gecikme ve ağ bağlantısı.</span><span class="sxs-lookup"><span data-stu-id="9763e-315">Latency and network connectivity between Azure Stack Hubs.</span></span>
- <span data-ttu-id="9763e-316">Hizmetler ve izinler için kimliklerin kullanılabilirliği.</span><span class="sxs-lookup"><span data-stu-id="9763e-316">Availability of identities for services and permissions.</span></span> <span data-ttu-id="9763e-317">Her Azure Stack hub örneği bir dış dizinle tümleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-317">Each Azure Stack Hub instance integrates with an external directory.</span></span> <span data-ttu-id="9763e-318">Dağıtım sırasında, Azure Active Directory (Azure AD) ya da Active Directory Federasyon Hizmetleri (AD FS) (ADFS) kullanmayı tercih edersiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-318">During deployment, you choose to use either Azure Active Directory (Azure AD) or Active Directory Federation Services (ADFS).</span></span> <span data-ttu-id="9763e-319">Bu nedenle, birden çok bağımsız Azure Stack hub örneğiyle etkileşime girebilen tek bir kimlik kullanmak mümkün olabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-319">As such, there's potential to use a single identity that can interact with multiple independent Azure Stack Hub instances.</span></span>

## <a name="business-continuity-and-disaster-recovery"></a><span data-ttu-id="9763e-320">İş sürekliliği ve olağanüstü durum kurtarma</span><span class="sxs-lookup"><span data-stu-id="9763e-320">Business continuity and disaster recovery</span></span>

<span data-ttu-id="9763e-321">İş sürekliliği ve olağanüstü durum kurtarma (BCDR), Azure Stack hub ve Azure 'daki önemli bir konudur.</span><span class="sxs-lookup"><span data-stu-id="9763e-321">Business continuity and disaster recovery (BCDR) is an important topic in both Azure Stack Hub and Azure.</span></span> <span data-ttu-id="9763e-322">Temel fark, Azure Stack hub 'ında, işlecin tüm BCDR sürecini yönetmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-322">The main difference is that in Azure Stack Hub, the operator must manage the whole BCDR process.</span></span> <span data-ttu-id="9763e-323">Azure 'da, BCDR 'nin parçaları Microsoft tarafından otomatik olarak yönetilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-323">In Azure, parts of BCDR are automatically managed by Microsoft.</span></span>

<span data-ttu-id="9763e-324">BCDR önceki bölüm [verilerinde ve depolama](#data-and-storage-considerations)alanlarında bahsedilen alanların aynısını etkiler:</span><span class="sxs-lookup"><span data-stu-id="9763e-324">BCDR affects the same areas mentioned in the previous section [Data and storage considerations](#data-and-storage-considerations):</span></span>

- <span data-ttu-id="9763e-325">Altyapı/yapılandırma</span><span class="sxs-lookup"><span data-stu-id="9763e-325">Infrastructure / Configuration</span></span>
- <span data-ttu-id="9763e-326">Uygulama kullanılabilirliği</span><span class="sxs-lookup"><span data-stu-id="9763e-326">Application Availability</span></span>
- <span data-ttu-id="9763e-327">Uygulama Verileri</span><span class="sxs-lookup"><span data-stu-id="9763e-327">Application Data</span></span>

<span data-ttu-id="9763e-328">Önceki bölümde belirtildiği gibi, bu bölgeler Azure Stack hub işlecinin sorumluluğundadır ve kuruluşlar arasında farklılık gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-328">And as mentioned in the previous section, these areas are the responsibility of the Azure Stack Hub operator and can vary between organizations.</span></span> <span data-ttu-id="9763e-329">BCDR 'yi kullanılabilir araçlara ve süreçlerinize göre planlayın.</span><span class="sxs-lookup"><span data-stu-id="9763e-329">Plan BCDR according to your available tools and processes.</span></span>

<span data-ttu-id="9763e-330">**Altyapı ve yapılandırma**</span><span class="sxs-lookup"><span data-stu-id="9763e-330">**Infrastructure and configuration**</span></span>

<span data-ttu-id="9763e-331">Bu bölüm, fiziksel ve mantıksal altyapıyı ve Azure Stack hub 'ın yapılandırmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-331">This section covers the physical and logical infrastructure and the configuration of Azure Stack Hub.</span></span> <span data-ttu-id="9763e-332">Yönetici ve kiracı alanlarında eylemleri ele alır.</span><span class="sxs-lookup"><span data-stu-id="9763e-332">It covers actions in the admin and the tenant spaces.</span></span>

<span data-ttu-id="9763e-333">Azure Stack hub işleci (veya Yöneticisi), Azure Stack hub örneklerinin bakımında sorumludur.</span><span class="sxs-lookup"><span data-stu-id="9763e-333">The Azure Stack Hub operator (or administrator) is responsible for maintenance of the Azure Stack Hub instances.</span></span> <span data-ttu-id="9763e-334">Ağ, depolama, kimlik ve bu makalenin kapsamı dışında kalan diğer konular gibi bileşenler de dahil olmak üzere.</span><span class="sxs-lookup"><span data-stu-id="9763e-334">Including components such as the network, storage, identity, and other topics that are outside the scope of this article.</span></span> <span data-ttu-id="9763e-335">Azure Stack hub işlemlerinin özellikleri hakkında daha fazla bilgi edinmek için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="9763e-335">To learn more about the specifics of Azure Stack Hub operations, see the following resources:</span></span>

- [<span data-ttu-id="9763e-336">Infrastructure Backup hizmeti ile Azure Stack hub 'daki verileri kurtarma</span><span class="sxs-lookup"><span data-stu-id="9763e-336">Recover data in Azure Stack Hub with the Infrastructure Backup Service</span></span>](/azure-stack/operator/azure-stack-backup-infrastructure-backup)
- [<span data-ttu-id="9763e-337">Yönetici portalından Azure Stack Hub için yedeklemeyi etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="9763e-337">Enable backup for Azure Stack Hub from the administrator portal</span></span>](/azure-stack/operator/azure-stack-backup-enable-backup-console)
- [<span data-ttu-id="9763e-338">Geri dönülemez veri kaybından kurtarma</span><span class="sxs-lookup"><span data-stu-id="9763e-338">Recover from catastrophic data loss</span></span>](/azure-stack/operator/azure-stack-backup-recover-data)
- [<span data-ttu-id="9763e-339">Infrastructure Backup Hizmeti en iyi uygulamaları</span><span class="sxs-lookup"><span data-stu-id="9763e-339">Infrastructure Backup Service best practices</span></span>](/azure-stack/operator/azure-stack-backup-best-practices)

<span data-ttu-id="9763e-340">Azure Stack hub, Kubernetes uygulamalarının dağıtılacağı platform ve dokudır.</span><span class="sxs-lookup"><span data-stu-id="9763e-340">Azure Stack Hub is the platform and fabric on which Kubernetes applications will be deployed.</span></span> <span data-ttu-id="9763e-341">Kubernetes uygulamasının uygulama sahibi, çözüm için gereken uygulama altyapısını dağıtmak için erişim izni verilen Azure Stack hub 'ın bir kullanıcısı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="9763e-341">The application owner for the Kubernetes application will be a user of Azure Stack Hub, with access granted to deploy the application infrastructure needed for the solution.</span></span> <span data-ttu-id="9763e-342">Bu durumda uygulama altyapısı, AKS altyapısı kullanılarak dağıtılan Kubernetes kümesi ve çevreleyen hizmetler anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="9763e-342">Application infrastructure in this case means the Kubernetes cluster, deployed using AKS Engine, and the surrounding services.</span></span> <span data-ttu-id="9763e-343">Bu bileşenler, bir Azure Stack hub teklifiyle kısıtlanmış Azure Stack hub 'ına dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="9763e-343">These components will be deployed into Azure Stack Hub, constrained by an Azure Stack Hub offer.</span></span> <span data-ttu-id="9763e-344">Kubernetes uygulama sahibi tarafından kabul edilen teklifin tüm çözümü dağıtmak için yeterli kapasiteye sahip olduğundan emin olun (Azure Stack Hub kotaları olarak ifade edilir).</span><span class="sxs-lookup"><span data-stu-id="9763e-344">Make sure the offer accepted by the Kubernetes application owner has sufficient capacity (expressed in Azure Stack Hub quotas) to deploy the entire solution.</span></span> <span data-ttu-id="9763e-345">Önceki bölümde önerildiği gibi, uygulama dağıtımı, Azure DevOps Azure Pipelines gibi altyapı kodu ve dağıtım işlem hatları kullanılarak otomatikleştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-345">As recommended in the previous section, the application deployment should be automated using Infrastructure-as-Code and deployment pipelines like Azure DevOps Azure Pipelines.</span></span>

<span data-ttu-id="9763e-346">Azure Stack hub teklifleri ve kotaları hakkında daha fazla bilgi için bkz. [Azure Stack Hub hizmetleri, planlar, teklifler ve aboneliklerde genel bakış](/azure-stack/operator/service-plan-offer-subscription-overview)</span><span class="sxs-lookup"><span data-stu-id="9763e-346">For more information on Azure Stack Hub offers and quotas, see [Azure Stack Hub services, plans, offers, and subscriptions overview](/azure-stack/operator/service-plan-offer-subscription-overview)</span></span>

<span data-ttu-id="9763e-347">AKS altyapısı yapılandırmasını, çıkışları dahil güvenli bir şekilde kaydetmek ve depolamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-347">It's important to securely save and store the AKS Engine configuration including its outputs.</span></span> <span data-ttu-id="9763e-348">Bu dosyalar, Kubernetes kümesine erişmek için kullanılan gizli bilgileri içerir, bu nedenle yönetici olmayan olarak gösterilmelidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-348">These files contain confidential information used to access the Kubernetes cluster, so it must be protected from being exposed to non-administrators.</span></span>

<span data-ttu-id="9763e-349">**Uygulama kullanılabilirliği**</span><span class="sxs-lookup"><span data-stu-id="9763e-349">**Application availability**</span></span>

<span data-ttu-id="9763e-350">Uygulama, dağıtılan bir örneğin yedeklemelerine güvenmemelidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-350">The application shouldn't rely on backups of a deployed instance.</span></span> <span data-ttu-id="9763e-351">Standart bir uygulama olarak, kod olarak altyapı düzenlerini izleyen uygulamayı tamamen yeniden dağıtın.</span><span class="sxs-lookup"><span data-stu-id="9763e-351">As a standard practice, redeploy the application completely following Infrastructure-as-Code patterns.</span></span> <span data-ttu-id="9763e-352">Örneğin, Azure DevOps Azure Pipelines kullanarak yeniden dağıtın.</span><span class="sxs-lookup"><span data-stu-id="9763e-352">For example, redeploy using Azure DevOps Azure Pipelines.</span></span> <span data-ttu-id="9763e-353">BCDR yordamı, uygulamayı aynı veya başka bir Kubernetes kümesine yeniden dağıtmayı içermelidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-353">The BCDR procedure should involve the redeployment of the application to the same or another Kubernetes cluster.</span></span>

<span data-ttu-id="9763e-354">**Uygulama verileri**</span><span class="sxs-lookup"><span data-stu-id="9763e-354">**Application data**</span></span>

<span data-ttu-id="9763e-355">Uygulama verileri, veri kaybını en aza indirmek için önemli bir bölümüdür.</span><span class="sxs-lookup"><span data-stu-id="9763e-355">Application data is the critical part to minimize data loss.</span></span> <span data-ttu-id="9763e-356">Önceki bölümde, uygulamanın iki (veya daha fazla) örneği arasında verileri çoğaltmak ve senkronize etmek için teknikler açıklanmıştı.</span><span class="sxs-lookup"><span data-stu-id="9763e-356">In the previous section, techniques to replicate and synchronize data between two (or more) instances of the application were described.</span></span> <span data-ttu-id="9763e-357">Verileri depolamak için kullanılan veritabanı altyapısına (MySQL, MongoDB, MSSQL veya diğerleri) bağlı olarak, aralarından seçim yapabileceğiniz farklı veritabanı kullanılabilirliği ve yedekleme teknikleri de bulunur.</span><span class="sxs-lookup"><span data-stu-id="9763e-357">Depending on the database infrastructure (MySQL, MongoDB, MSSQL or others) used to store the data, there will be different database availability and backup techniques available to choose from.</span></span>

<span data-ttu-id="9763e-358">Bütünlüğü sağlamak için önerilen yollar şunlardan birini kullanmaktır:</span><span class="sxs-lookup"><span data-stu-id="9763e-358">The recommended ways to achieve integrity are to use either:</span></span>
- <span data-ttu-id="9763e-359">Belirli bir veritabanı için yerel bir yedekleme çözümü.</span><span class="sxs-lookup"><span data-stu-id="9763e-359">A native backup solution for the specific database.</span></span>
- <span data-ttu-id="9763e-360">Sizin uygulamanız tarafından kullanılan veritabanı türünün yedeklemesini ve kurtarılmasını resmi olarak destekleyen bir yedekleme çözümü.</span><span class="sxs-lookup"><span data-stu-id="9763e-360">A backup solution that officially supports backup and recovery of the database type used by your application.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9763e-361">Yedekleme verilerinizi, uygulama verilerinizin bulunduğu Azure Stack hub örneğinde depolamayın.</span><span class="sxs-lookup"><span data-stu-id="9763e-361">Do not store your backup data on the same Azure Stack Hub instance where your application data resides.</span></span> <span data-ttu-id="9763e-362">Azure Stack hub örneğinin tamamen kesilmesi da yedeklemelerinizin güvenliğini tehlikeye atabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-362">A complete outage of the Azure Stack Hub instance would also compromise your backups.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="9763e-363">Kullanılabilirlik konusunda dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="9763e-363">Availability considerations</span></span>

<span data-ttu-id="9763e-364">AKS altyapısı aracılığıyla dağıtılan Azure Stack hub 'da Kubernetes yönetilen bir hizmet değildir.</span><span class="sxs-lookup"><span data-stu-id="9763e-364">Kubernetes on Azure Stack Hub deployed via AKS Engine isn't a managed service.</span></span> <span data-ttu-id="9763e-365">Bu, Azure hizmet olarak altyapı (IaaS) kullanılarak bir Kubernetes kümesinin otomatik olarak dağıtılması ve yapılandırması.</span><span class="sxs-lookup"><span data-stu-id="9763e-365">It's an automated deployment and configuration of a Kubernetes cluster using Azure Infrastructure-as-a-Service (IaaS).</span></span> <span data-ttu-id="9763e-366">Bu nedenle, temel alınan altyapıyla aynı kullanılabilirliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-366">As such, it provides the same availability as the underlying infrastructure.</span></span>

<span data-ttu-id="9763e-367">Azure Stack hub altyapısı hatalara karşı dayanıklıdır ve birden çok [hata ve güncelleştirme etki alanı](/azure-stack/user/azure-stack-vm-considerations#high-availability)arasında bileşenleri dağıtmak Için kullanılabilirlik kümeleri gibi yetenekler sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-367">Azure Stack Hub infrastructure is already resilient to failures, and provides capabilities like Availability Sets to distribute components across multiple [fault and update domains](/azure-stack/user/azure-stack-vm-considerations#high-availability).</span></span> <span data-ttu-id="9763e-368">Ancak, temel alınan teknoloji (Yük Devretme Kümelemesi), bir donanım arızası olması durumunda etkilenen bir fiziksel sunucudaki VM 'Ler için bazı kesinti süreleri doğurur.</span><span class="sxs-lookup"><span data-stu-id="9763e-368">But the underlying technology (failover clustering) still incurs some downtime for VMs on an impacted physical server, if there's a hardware failure.</span></span>

<span data-ttu-id="9763e-369">Üretim Kubernetes kümenizin yanı sıra iki (veya daha fazla) kümeye iş yükünü dağıtmak iyi bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="9763e-369">It's a good practice to deploy your production Kubernetes cluster as well as the workload to two (or more) clusters.</span></span> <span data-ttu-id="9763e-370">Bu kümeler farklı konumlarda veya veri merkezlerinde barındırılmalıdır ve kullanıcıları küme yanıt süresine veya coğrafi konuma göre yönlendirmek için Azure Traffic Manager gibi teknolojileri kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-370">These clusters should be hosted in different locations or datacenters, and use technologies like Azure Traffic Manager to route users based on cluster response time or based on geography.</span></span>

![Trafik akışlarını denetlemek için Traffic Manager kullanma](media/pattern-highly-available-kubernetes/aks-azure-traffic-manager.png)

<span data-ttu-id="9763e-372">Tek bir Kubernetes kümesine sahip müşteriler tipik olarak belirli bir uygulamanın hizmet IP 'sini veya DNS adına bağlanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-372">Customers who have a single Kubernetes cluster typically connect to the service IP or DNS name of a given application.</span></span> <span data-ttu-id="9763e-373">Birden çok küme dağıtımında, müşteriler her bir Kubernetes kümesinde Hizmetleri/girişi işaret eden bir Traffic Manager DNS adına bağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-373">In a multi-cluster deployment, customers should connect to a Traffic Manager DNS name that points to the services/ingress on each Kubernetes cluster.</span></span>

![Şirket içi kümeye yönlendirmek için Traffic Manager kullanma](media/pattern-highly-available-kubernetes/aks-azure-traffic-manager-on-premises.png)

> [!NOTE]
> <span data-ttu-id="9763e-375">Bu model, [Azure 'daki (yönetilen) AKS kümeleri için de en iyi uygulamadır](/azure/aks/operator-best-practices-multi-region#plan-for-multiregion-deployment).</span><span class="sxs-lookup"><span data-stu-id="9763e-375">This pattern is also a [best practice for (managed) AKS clusters in Azure](/azure/aks/operator-best-practices-multi-region#plan-for-multiregion-deployment).</span></span>

<span data-ttu-id="9763e-376">AKS altyapısı aracılığıyla dağıtılan Kubernetes kümesi, en az üç ana düğüm ve iki çalışan düğümünden oluşmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-376">The Kubernetes cluster itself, deployed via AKS Engine, should consist of at least three master nodes and two worker nodes.</span></span>

## <a name="identity-and-security-considerations"></a><span data-ttu-id="9763e-377">Kimlik ve güvenlik konuları</span><span class="sxs-lookup"><span data-stu-id="9763e-377">Identity and security considerations</span></span>

<span data-ttu-id="9763e-378">Kimlik ve güvenlik önemli konulardır.</span><span class="sxs-lookup"><span data-stu-id="9763e-378">Identity and security are important topics.</span></span> <span data-ttu-id="9763e-379">Özellikle çözüm bağımsız Azure Stack hub örneklerine yayıldığında.</span><span class="sxs-lookup"><span data-stu-id="9763e-379">Especially when the solution spans independent Azure Stack Hub instances.</span></span> <span data-ttu-id="9763e-380">Kubernetes ve Azure (Azure Stack hub dahil), her ikisi de rol tabanlı erişim denetimi (RBAC) için farklı mekanizmalarla sahiptir:</span><span class="sxs-lookup"><span data-stu-id="9763e-380">Kubernetes and Azure (including Azure Stack Hub) both have distinct mechanisms for role-based access control (RBAC):</span></span>

- <span data-ttu-id="9763e-381">Azure RBAC, yeni Azure kaynakları oluşturma özelliği de dahil olmak üzere Azure 'daki (ve Azure Stack hub) kaynaklara erişimi denetler.</span><span class="sxs-lookup"><span data-stu-id="9763e-381">Azure RBAC controls access to resources in Azure (and Azure Stack Hub), including the ability to create new Azure resources.</span></span> <span data-ttu-id="9763e-382">İzinler kullanıcılara, gruplara veya hizmet sorumlularına atanabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-382">Permissions can be assigned to users, groups, or service principals.</span></span> <span data-ttu-id="9763e-383">(Hizmet sorumlusu, uygulamalar tarafından kullanılan bir güvenlik kimliğidir.)</span><span class="sxs-lookup"><span data-stu-id="9763e-383">(A service principal is a security identity used by applications.)</span></span>
- <span data-ttu-id="9763e-384">Kubernetes RBAC, Kubernetes API 'SI için izinleri denetler.</span><span class="sxs-lookup"><span data-stu-id="9763e-384">Kubernetes RBAC controls permissions to the Kubernetes API.</span></span> <span data-ttu-id="9763e-385">Örneğin, Pod ve listeleme, bir kullanıcıya RBAC aracılığıyla yetkilendirilabilen (veya reddedilmeyen) eylemlerdir.</span><span class="sxs-lookup"><span data-stu-id="9763e-385">For example, creating pods and listing pods are actions that can be authorized (or denied) to a user through RBAC.</span></span> <span data-ttu-id="9763e-386">Kullanıcılara Kubernetes izinleri atamak için roller ve rol bağlamaları oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="9763e-386">To assign Kubernetes permissions to users, you create roles and role bindings.</span></span>

<span data-ttu-id="9763e-387">**Azure Stack hub kimliği ve RBAC**</span><span class="sxs-lookup"><span data-stu-id="9763e-387">**Azure Stack Hub identity and RBAC**</span></span>

<span data-ttu-id="9763e-388">Azure Stack hub iki kimlik sağlayıcısı seçeneği sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-388">Azure Stack Hub provides two identity provider choices.</span></span> <span data-ttu-id="9763e-389">Kullandığınız sağlayıcı, ortama ve bağlı veya bağlantısı kesilmiş bir ortamda çalışıyor olmasına bağlıdır:</span><span class="sxs-lookup"><span data-stu-id="9763e-389">The provider you use depends on the environment and whether running in a connected or disconnected environment:</span></span>

- <span data-ttu-id="9763e-390">Azure AD-yalnızca bağlı bir ortamda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-390">Azure AD - can only be used in a connected environment.</span></span>
- <span data-ttu-id="9763e-391">Geleneksel bir Active Directory ormanına ADFS-bağlı veya bağlantısı kesilmiş bir ortamda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-391">ADFS to a traditional Active Directory forest - can be used in both a connected or disconnected environment.</span></span>

<span data-ttu-id="9763e-392">Kimlik sağlayıcısı, kaynaklara erişim için kimlik doğrulaması ve yetkilendirme dahil olmak üzere kullanıcıları ve grupları yönetir.</span><span class="sxs-lookup"><span data-stu-id="9763e-392">The identity provider manages users and groups, including authentication and authorization for accessing resources.</span></span> <span data-ttu-id="9763e-393">Abonelikler, kaynak grupları ve VM 'Ler ya da yük dengeleyiciler gibi bireysel kaynaklar gibi Azure Stack hub kaynaklarına erişim verilebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-393">Access can be granted to Azure Stack Hub resources like subscriptions, resource groups, and individual resources like VMs or load balancers.</span></span> <span data-ttu-id="9763e-394">Tutarlı bir erişim modeline sahip olmak için, tüm Azure Stack hub 'Lar için aynı grupları (doğrudan veya iç içe) kullanmayı göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-394">To have a consistent access model, you should consider using the same groups (either direct or nested) for all Azure Stack Hubs.</span></span> <span data-ttu-id="9763e-395">Bir yapılandırma örneği aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="9763e-395">Here's a configuration example:</span></span>

![Azure Stack hub ile iç içe AAD grupları](media/pattern-highly-available-kubernetes/azure-stack-azure-ad-nested-groups.png)

<span data-ttu-id="9763e-397">Örnek, belirli bir amaç için adanmış bir grup (AAD veya ADFS kullanarak) içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-397">The example contains a dedicated group (using AAD or ADFS) for a specific purpose.</span></span> <span data-ttu-id="9763e-398">Örneğin, belirli bir Azure Stack hub örneğindeki Kubernetes küme altyapınızı içeren kaynak grubu için katkıda bulunan izinleri sağlamak üzere (burada "Seattle K8s Cluster katılımcısı").</span><span class="sxs-lookup"><span data-stu-id="9763e-398">For example, to provide Contributor permissions for the Resource Group that contains our Kubernetes cluster infrastructure on a specific Azure Stack Hub instance (here "Seattle K8s Cluster Contributor").</span></span> <span data-ttu-id="9763e-399">Bu gruplar daha sonra her bir Azure Stack hub 'ının "alt grupları" içeren genel bir grubun içine yuvalanmıştır.</span><span class="sxs-lookup"><span data-stu-id="9763e-399">These groups are then nested into an overall group that contains the "subgroups" for each Azure Stack Hub.</span></span>

<span data-ttu-id="9763e-400">Örnek kullanıcımız artık tüm Kubernetes altyapı kaynakları kümesini içeren her iki kaynak grubu için "katkıda bulunan" izinlere sahip olacaktır.</span><span class="sxs-lookup"><span data-stu-id="9763e-400">Our sample user will now have "Contributor" permissions to both Resources Groups that contain the entire set of Kubernetes infrastructure resources.</span></span> <span data-ttu-id="9763e-401">Örnekler aynı kimlik sağlayıcısını paylaştığından, Kullanıcı hem Azure Stack hub örneklerine ait kaynaklara erişebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-401">The user will have access to resources on both Azure Stack Hub instances, because the instances share the same identity provider.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9763e-402">Bu izinler yalnızca Azure Stack merkezini ve en üstünde dağıtılan kaynakları etkiler.</span><span class="sxs-lookup"><span data-stu-id="9763e-402">These permissions affect only Azure Stack Hub and some of the resources deployed on top of it.</span></span> <span data-ttu-id="9763e-403">Bu erişim düzeyine sahip bir Kullanıcı çok sayıda zarar verebilir, ancak Kubernetes IaaS VM 'lerine veya Kubernetes API 'sine ek erişim olmadan Kubernetes API 'sine erişemez.</span><span class="sxs-lookup"><span data-stu-id="9763e-403">A user who has this level of access can do a lot of harm, but cannot access the Kubernetes IaaS VMs nor the Kubernetes API without additional access to the Kubernetes deployment.</span></span>

<span data-ttu-id="9763e-404">**Kubernetes kimliği ve RBAC**</span><span class="sxs-lookup"><span data-stu-id="9763e-404">**Kubernetes identity and RBAC**</span></span>

<span data-ttu-id="9763e-405">Bir Kubernetes kümesi, varsayılan olarak Azure Stack hub 'ı ile aynı kimlik sağlayıcısını kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="9763e-405">A Kubernetes cluster, by default, doesn't use the same Identity Provider as the underlaying Azure Stack Hub.</span></span> <span data-ttu-id="9763e-406">Kubernetes kümesi, ana ve çalışan düğümlerini barındıran VM 'Ler, kümenin dağıtımı sırasında belirtilen SSH anahtarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-406">The VMs hosting the Kubernetes cluster, the master, and worker nodes, use the SSH Key that is specified during the deployment of the cluster.</span></span> <span data-ttu-id="9763e-407">Bu SSH anahtarı SSH kullanarak bu düğümlere bağlanmak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="9763e-407">This SSH key is required to connect to these nodes using SSH.</span></span>

<span data-ttu-id="9763e-408">Kubernetes API 'SI (örneğin, kullanılarak erişilen), `kubectl` varsayılan "Küme Yöneticisi" hizmet hesabı da dahil olmak üzere hizmet hesaplarıyla de korunur.</span><span class="sxs-lookup"><span data-stu-id="9763e-408">The Kubernetes API (for example, accessed by using `kubectl`) is also protected by service accounts including a default "cluster admin" service account.</span></span> <span data-ttu-id="9763e-409">Bu hizmet hesabı için kimlik bilgileri başlangıçta `.kube/config` Kubernetes ana düğümlerindeki dosyada depolanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-409">The credentials for this service account are initially stored in the `.kube/config` file on your Kubernetes master nodes.</span></span>

<span data-ttu-id="9763e-410">**Gizli dizi yönetimi ve uygulama kimlik bilgileri**</span><span class="sxs-lookup"><span data-stu-id="9763e-410">**Secrets management and application credentials**</span></span>

<span data-ttu-id="9763e-411">Bağlantı dizeleri veya veritabanı kimlik bilgileri gibi gizli dizileri depolamak için aşağıdakiler dahil olmak üzere birkaç seçenek vardır:</span><span class="sxs-lookup"><span data-stu-id="9763e-411">To store secrets like connection strings or database credentials there are several choices, including:</span></span>

- <span data-ttu-id="9763e-412">Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="9763e-412">Azure Key Vault</span></span>
- <span data-ttu-id="9763e-413">Kubernetes Gizli Dizileri</span><span class="sxs-lookup"><span data-stu-id="9763e-413">Kubernetes Secrets</span></span>
- <span data-ttu-id="9763e-414">HashiCorp kasası gibi üçüncü taraf çözümler (Kubernetes üzerinde çalışıyor)</span><span class="sxs-lookup"><span data-stu-id="9763e-414">3rd-Party solutions like HashiCorp Vault (running on Kubernetes)</span></span>

<span data-ttu-id="9763e-415">Gizli dizileri veya kimlik bilgilerini yapılandırma dosyalarınızda, uygulama kodunuzda veya betiklerinizde bir düz metin içinde depolamayın.</span><span class="sxs-lookup"><span data-stu-id="9763e-415">Do not store secrets or credentials in plaintext in your configuration files, application code, or within scripts.</span></span> <span data-ttu-id="9763e-416">Ve bunları bir sürüm denetim sisteminde saklamayın.</span><span class="sxs-lookup"><span data-stu-id="9763e-416">And do not store them in a version control system.</span></span> <span data-ttu-id="9763e-417">Bunun yerine, Dağıtım Otomasyonu, gerektiğinde gizli dizileri almalıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-417">Instead, the deployment automation should retrieve the secrets as needed.</span></span>

## <a name="patch-and-update"></a><span data-ttu-id="9763e-418">Düzeltme Eki ve güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="9763e-418">Patch and update</span></span>

<span data-ttu-id="9763e-419">Azure Kubernetes hizmetindeki **Düzeltme Eki ve güncelleştirme (PNU)** işlemi kısmen otomatikleştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="9763e-419">The **Patch and Update (PNU)** process in Azure Kubernetes Service is partially automated.</span></span> <span data-ttu-id="9763e-420">Kubernetes sürüm yükseltmeleri el ile tetiklenir ve güvenlik güncelleştirmeleri otomatik olarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-420">Kubernetes version upgrades are triggered manually, while security updates are applied automatically.</span></span> <span data-ttu-id="9763e-421">Bu güncelleştirmeler, işletim sistemi güvenlik düzeltmeleri veya çekirdek güncelleştirmeleri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-421">These updates can include OS security fixes or kernel updates.</span></span> <span data-ttu-id="9763e-422">AKS, güncelleştirme işlemini tamamlamaya yönelik olarak bu Linux düğümlerini otomatik olarak yeniden başlatır.</span><span class="sxs-lookup"><span data-stu-id="9763e-422">AKS doesn't automatically reboot these Linux nodes to complete the update process.</span></span> 

<span data-ttu-id="9763e-423">Azure Stack Hub üzerinde AKS altyapısı kullanılarak dağıtılan bir Kubernetes kümesi için PNU işlemi yönetilmez ve küme işlecinin sorumluluğundadır.</span><span class="sxs-lookup"><span data-stu-id="9763e-423">The PNU process for a Kubernetes cluster deployed using AKS Engine on Azure Stack Hub is unmanaged, and is the responsibility of the cluster operator.</span></span> 

<span data-ttu-id="9763e-424">AKS altyapısı, en önemli iki görevle yardımcı olur:</span><span class="sxs-lookup"><span data-stu-id="9763e-424">AKS Engine helps with the two most important tasks:</span></span>

- [<span data-ttu-id="9763e-425">Daha yeni bir Kubernetes ve temel işletim sistemi görüntüsü sürümüne yükselt</span><span class="sxs-lookup"><span data-stu-id="9763e-425">Upgrade to a newer Kubernetes and base OS image version</span></span>](/azure-stack/user/azure-stack-kubernetes-aks-engine-upgrade#steps-to-upgrade-to-a-newer-kubernetes-version)
- [<span data-ttu-id="9763e-426">Yalnızca temel işletim sistemi görüntüsünü yükselt</span><span class="sxs-lookup"><span data-stu-id="9763e-426">Upgrade the base OS image only</span></span>](/azure-stack/user/azure-stack-kubernetes-aks-engine-upgrade#steps-to-only-upgrade-the-os-image)

<span data-ttu-id="9763e-427">Yeni temel işletim sistemi görüntüleri, en son işletim sistemi güvenlik düzeltmelerini ve çekirdek güncelleştirmelerini içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-427">Newer base OS images contain the latest OS security fixes and kernel updates.</span></span> 

<span data-ttu-id="9763e-428">[Katılımsız yükseltme](https://wiki.debian.org/UnattendedUpgrades) mekanizması, Azure Stack hub marketi 'nde yeni bir temel işletim sistemi görüntüsü sürümü kullanılabilir olmadan önce yayımlanan güvenlik güncelleştirmelerini otomatik olarak kurar.</span><span class="sxs-lookup"><span data-stu-id="9763e-428">The [Unattended Upgrade](https://wiki.debian.org/UnattendedUpgrades) mechanism automatically installs security updates that are released before a new base OS image version is available in the Azure Stack Hub Marketplace.</span></span> <span data-ttu-id="9763e-429">Katılımsız yükseltme varsayılan olarak etkindir ve güvenlik güncelleştirmeleri otomatik olarak yüklenir, ancak Kubernetes küme düğümlerini yeniden yüklemez.</span><span class="sxs-lookup"><span data-stu-id="9763e-429">Unattended upgrade is enabled by default and installs security updates automatically, but does not reboot the Kubernetes cluster nodes.</span></span> <span data-ttu-id="9763e-430">Düğümlerin yeniden başlatılması, açık kaynak [ **K** ubernetes **yeniden** önyüklemesi **D** Aemon (kured))](/azure/aks/node-updates-kured)kullanılarak otomatikleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-430">Rebooting the nodes can be automated using the open-source [**K** Ubernetes **RE** boot **D** aemon (kured))](/azure/aks/node-updates-kured).</span></span> <span data-ttu-id="9763e-431">Kured, yeniden başlatma gerektiren Linux düğümleri için, çalışan Pod ve düğüm yeniden başlatma işlemini otomatik olarak işler.</span><span class="sxs-lookup"><span data-stu-id="9763e-431">Kured watches for Linux nodes that require a reboot, then automatically handle the rescheduling of running pods and node reboot process.</span></span>

## <a name="deployment-cicd-considerations"></a><span data-ttu-id="9763e-432">Dağıtım (CI/CD) konuları</span><span class="sxs-lookup"><span data-stu-id="9763e-432">Deployment (CI/CD) considerations</span></span>

<span data-ttu-id="9763e-433">Azure ve Azure Stack hub, aynı Azure Resource Manager REST API 'Lerini kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="9763e-433">Azure and Azure Stack Hub expose the same Azure Resource Manager REST APIs.</span></span> <span data-ttu-id="9763e-434">Bu API 'Ler, diğer tüm Azure bulutlarının (Azure, Azure Çin 21Vianet, Azure Kamu) olduğu gibi karşılanır.</span><span class="sxs-lookup"><span data-stu-id="9763e-434">These APIs are addressed like any other Azure cloud (Azure, Azure China 21Vianet, Azure Government).</span></span> <span data-ttu-id="9763e-435">Bulutlar arasındaki API sürümlerinde farklılıklar olabilir ve Azure Stack hub yalnızca bir hizmet alt kümesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-435">There may be differences in API versions between clouds, and Azure Stack Hub provides only a subset of services.</span></span> <span data-ttu-id="9763e-436">Yönetim uç noktası URI 'SI her bulut için ve Azure Stack hub 'ın her örneği için de farklıdır.</span><span class="sxs-lookup"><span data-stu-id="9763e-436">The management endpoint URI is also different for each cloud, and each instance of Azure Stack Hub.</span></span>

<span data-ttu-id="9763e-437">Azure Resource Manager REST API 'Leri, Azure ve Azure Stack hub ile etkileşimde bulunmak için tutarlı bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-437">Aside from the subtle differences mentioned, Azure Resource Manager REST APIs provide a consistent way to interact with both Azure and Azure Stack Hub.</span></span> <span data-ttu-id="9763e-438">Aynı araç kümesi, diğer Azure bulutuyla birlikte kullanılacak şekilde burada kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-438">The same set of tools can be used here as would be used with any other Azure cloud.</span></span> <span data-ttu-id="9763e-439">Hizmetleri Azure Stack hub 'a dağıtmak ve düzenlemek için Azure DevOps, Jenkins veya PowerShell gibi araçları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-439">You can use Azure DevOps, tools like Jenkins, or PowerShell, to deploy and orchestrate services to Azure Stack Hub.</span></span>

<span data-ttu-id="9763e-440">**Dikkat edilmesi gerekenler**</span><span class="sxs-lookup"><span data-stu-id="9763e-440">**Considerations**</span></span>

<span data-ttu-id="9763e-441">Azure Stack hub dağıtımları, Internet erişilebilirliği sorularından biri olduğunda önemli farklardan biridir.</span><span class="sxs-lookup"><span data-stu-id="9763e-441">One of the major differences when it comes to Azure Stack Hub deployments is the question of Internet accessibility.</span></span> <span data-ttu-id="9763e-442">Internet erişilebilirliği, CI/CD işleriniz için Microsoft tarafından barındırılan veya şirket içinde barındırılan bir yapı aracısının seçip seçmeyeceğinizi belirler.</span><span class="sxs-lookup"><span data-stu-id="9763e-442">Internet accessibility determines whether to select a Microsoft-hosted or a self-hosted build agent for your CI/CD jobs.</span></span>

<span data-ttu-id="9763e-443">Şirket içinde barındırılan bir aracı Azure Stack hub 'ında (IaaS VM olarak) veya Azure Stack hub 'ına erişebilen bir ağ alt ağında çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-443">A self-hosted agent can run on top of Azure Stack Hub (as an IaaS VM) or in a network subnet that can access Azure Stack Hub.</span></span> <span data-ttu-id="9763e-444">Farklar hakkında daha fazla bilgi edinmek için [Azure Pipelines aracıları](/azure/devops/pipelines/agents/agents) ' na gidin.</span><span class="sxs-lookup"><span data-stu-id="9763e-444">Go to [Azure Pipelines agents](/azure/devops/pipelines/agents/agents) to learn more about the differences.</span></span>

<span data-ttu-id="9763e-445">Aşağıdaki görüntü, şirket içinde barındırılan veya Microsoft tarafından barındırılan bir yapı aracısına ihtiyacınız olduğuna karar vermenize yardımcı olur:</span><span class="sxs-lookup"><span data-stu-id="9763e-445">The following image helps you to decide if you need a self-hosted or a Microsoft-hosted build agent:</span></span>

![Şirket içinde barındırılan derleme aracıları Evet veya Hayır](media/pattern-highly-available-kubernetes/aks-on-stack-self-hosted-build-agents-yes-or-no.png)

- <span data-ttu-id="9763e-447">Azure Stack hub Management uç noktaları Internet üzerinden erişilebilir mi?</span><span class="sxs-lookup"><span data-stu-id="9763e-447">Are the Azure Stack Hub management endpoints accessible via Internet?</span></span>
  - <span data-ttu-id="9763e-448">Evet: Azure Stack hub 'a bağlanmak için Microsoft tarafından barındırılan aracılarla Azure Pipelines kullanabiliriz.</span><span class="sxs-lookup"><span data-stu-id="9763e-448">Yes: We can use Azure Pipelines with Microsoft-hosted agents to connect to Azure Stack Hub.</span></span>
  - <span data-ttu-id="9763e-449">Hayır: Azure Stack hub 'ın yönetim uç noktalarına bağlanabilecek, şirket içinde barındırılan aracılara ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="9763e-449">No: We need self-hosted agents that can connect to Azure Stack Hub's management endpoints.</span></span>
- <span data-ttu-id="9763e-450">Kubernetes kümeimiz Internet üzerinden erişilebilir mi?</span><span class="sxs-lookup"><span data-stu-id="9763e-450">Is our Kubernetes cluster accessible via the Internet?</span></span>
  - <span data-ttu-id="9763e-451">Evet: doğrudan Kubernetes API uç noktası ile etkileşim kurmak için Microsoft tarafından barındırılan aracılarla Azure Pipelines kullanabiliriz.</span><span class="sxs-lookup"><span data-stu-id="9763e-451">Yes: We can use Azure Pipelines with Microsoft-hosted agents to interact directly with Kubernetes API endpoint.</span></span>
  - <span data-ttu-id="9763e-452">Hayır: Kubernetes kümesi API uç noktasına bağlanabilecek, kendi kendine barındırılan aracılara ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="9763e-452">No: We need self-hosted Agents that can connect to the Kubernetes cluster API endpoint.</span></span>

<span data-ttu-id="9763e-453">Azure Stack hub Management uç noktaları ve Kubernetes API 'sinin Internet üzerinden erişilebileceği senaryolarda, dağıtım Microsoft tarafından barındırılan bir aracı kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-453">In scenarios where the Azure Stack Hub management endpoints and Kubernetes API are accessible via the internet, the deployment can use a Microsoft-hosted agent.</span></span> <span data-ttu-id="9763e-454">Bu dağıtım, aşağıdaki gibi bir uygulama mimarisine neden olur:</span><span class="sxs-lookup"><span data-stu-id="9763e-454">This deployment will result in an application architecture as follows:</span></span>

<span data-ttu-id="9763e-455">[![Genel mimariye genel bakış](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern.png)](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern.png#lightbox)</span><span class="sxs-lookup"><span data-stu-id="9763e-455">[![Public architecture overview](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern.png)](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern.png#lightbox)</span></span>

<span data-ttu-id="9763e-456">Azure Resource Manager uç noktaları, Kubernetes API 'SI veya her ikisine doğrudan Internet üzerinden erişilemezse, ardışık düzen adımlarını çalıştırmak için şirket içinde barındırılan bir yapı aracısından yararlanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-456">If the Azure Resource Manager endpoints, Kubernetes API, or both aren't directly accessible via the Internet, we can leverage a self-hosted build agent to run the pipeline steps.</span></span> <span data-ttu-id="9763e-457">Bu tasarımın daha az bağlantısı olması gerekir ve yalnızca uç noktalarına ve Kubernetes API 'sine Azure Resource Manager yönelik şirket içi ağ bağlantısı ile dağıtılabilir:</span><span class="sxs-lookup"><span data-stu-id="9763e-457">This design needs less connectivity, and can be deployed with only on-premises network connectivity to Azure Resource Manager endpoints and the Kubernetes API:</span></span>

<span data-ttu-id="9763e-458">[![Şirket içi mimariye genel bakış](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern-self-hosted.png)](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern-self-hosted.png#lightbox)</span><span class="sxs-lookup"><span data-stu-id="9763e-458">[![On-prem architecture overview](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern-self-hosted.png)](media/pattern-highly-available-kubernetes/aks-azure-stack-app-pattern-self-hosted.png#lightbox)</span></span>

> [!NOTE]
> <span data-ttu-id="9763e-459">**Bağlantısı kesilen senaryolar hakkında ne var?**</span><span class="sxs-lookup"><span data-stu-id="9763e-459">**What about disconnected scenarios?**</span></span> <span data-ttu-id="9763e-460">Azure Stack hub veya Kubernetes ya da her ikisinin de internet 'e yönelik yönetim uç noktalarına sahip olmadığı senaryolarda, dağıtımlarınız için Azure DevOps kullanılması hala mümkündür.</span><span class="sxs-lookup"><span data-stu-id="9763e-460">In scenarios where either Azure Stack Hub or Kubernetes or both of them do not have internet-facing management endpoints, it is still possible to use Azure DevOps for your deployments.</span></span> <span data-ttu-id="9763e-461">Şirket içinde barındırılan bir aracı Havuzu (Şirket içinde veya Azure Stack hub 'ında çalışan bir DevOps Aracısı) ya da şirket içinde tamamen barındırılan bir Azure DevOps Server kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-461">You can either use a self-hosted Agent Pool (which is a DevOps Agent running on-premises or on Azure Stack Hub itself) or a completly self-hosted Azure DevOps Server on-premises.</span></span> <span data-ttu-id="9763e-462">Şirket içinde barındırılan aracının yalnızca giden HTTPS (TCP/443) Internet bağlantısı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9763e-462">The self-hosted agent needs only outbound HTTPS (TCP/443) Internet connectivity.</span></span>

<span data-ttu-id="9763e-463">Bu model her bir Azure Stack hub örneğinde bir Kubernetes kümesi (AKS altyapısı ile dağıtılan ve düzenlenmiş) kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="9763e-463">The pattern can use a Kubernetes cluster (deployed and orchestrated with AKS engine) on each Azure Stack Hub instance.</span></span> <span data-ttu-id="9763e-464">Bu, bir ön uç, orta katman, arka uç Hizmetleri (örneğin MongoDB) ve NGINX tabanlı giriş denetleyicisi içeren bir uygulama içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-464">It includes an application consisting of a frontend, a mid-tier, backend services (for example MongoDB), and an nginx-based Ingress Controller.</span></span> <span data-ttu-id="9763e-465">K8s kümesinde barındırılan bir veritabanı kullanmak yerine "dış veri depoları" ndan yararlanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9763e-465">Instead of using a database hosted on the K8s cluster, you can leverage "external data stores".</span></span> <span data-ttu-id="9763e-466">Veritabanı seçenekleri MySQL, SQL Server ya da Azure Stack hub veya IaaS dışında barındırılan herhangi bir tür veritabanını içerir.</span><span class="sxs-lookup"><span data-stu-id="9763e-466">Database options include MySQL, SQL Server, or any kind of database hosted outside of Azure Stack Hub or in IaaS.</span></span> <span data-ttu-id="9763e-467">Bu gibi yapılandırmalarda burada kapsam yoktur.</span><span class="sxs-lookup"><span data-stu-id="9763e-467">Configurations like this aren't in scope here.</span></span>

## <a name="partner-solutions"></a><span data-ttu-id="9763e-468">İş ortağı çözümleri</span><span class="sxs-lookup"><span data-stu-id="9763e-468">Partner solutions</span></span>

<span data-ttu-id="9763e-469">Azure Stack hub 'ın yeteneklerini genişletebilen Microsoft Iş ortağı çözümleri vardır.</span><span class="sxs-lookup"><span data-stu-id="9763e-469">There are Microsoft Partner solutions that can extend the capabilities of Azure Stack Hub.</span></span> <span data-ttu-id="9763e-470">Bu çözümler, Kubernetes kümelerinde çalışan uygulamaların dağıtımlarında yararlı bulunur.</span><span class="sxs-lookup"><span data-stu-id="9763e-470">These solutions have been found useful in deployments of applications running on Kubernetes clusters.</span></span>  

## <a name="storage-and-data-solutions"></a><span data-ttu-id="9763e-471">Depolama ve veri çözümleri</span><span class="sxs-lookup"><span data-stu-id="9763e-471">Storage and data solutions</span></span>

<span data-ttu-id="9763e-472">[Veri ve depolama konusunda](#data-and-storage-considerations)açıklandığı gibi, Azure Stack hub 'ın Şu anda birden çok örnek arasında depolama çoğaltması için yerel bir çözümü yoktur.</span><span class="sxs-lookup"><span data-stu-id="9763e-472">As described in [Data and storage considerations](#data-and-storage-considerations), Azure Stack Hub currently doesn't have a native solution to replicate storage across multiple instances.</span></span> <span data-ttu-id="9763e-473">Azure 'dan farklı olarak, birden çok bölgede depolama çoğaltma özelliği mevcut değildir.</span><span class="sxs-lookup"><span data-stu-id="9763e-473">Unlike Azure, the capability of replicating storage across multiple regions does not exist.</span></span> <span data-ttu-id="9763e-474">Azure Stack hub 'ında her örnek kendi ayrı bulutuna aittir.</span><span class="sxs-lookup"><span data-stu-id="9763e-474">In Azure Stack Hub, each instance is its own distinct cloud.</span></span> <span data-ttu-id="9763e-475">Ancak, Microsoft Iş ortaklarından Azure Stack hub 'larda ve Azure arasında depolama çoğaltması sağlayan çözümler mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="9763e-475">However, solutions are available from Microsoft Partners that enable storage replication across Azure Stack Hubs and Azure.</span></span> 

<span data-ttu-id="9763e-476">**KORLIK**</span><span class="sxs-lookup"><span data-stu-id="9763e-476">**SCALITY**</span></span>

<span data-ttu-id="9763e-477">[Korkliği](https://www.scality.com/) , 2009 'den beri desteklenen dijital işletmeler içeren Web ölçekli depolama alanı sunar.</span><span class="sxs-lookup"><span data-stu-id="9763e-477">[Scality](https://www.scality.com/) delivers web-scale storage that has powered digital businesses since 2009.</span></span> <span data-ttu-id="9763e-478">Yazılım tanımlı depolamamız olan korun HALKASı, emtia x86 sunucularını herhangi bir veri türü için sınırsız bir depolama havuzuna (dosya ve nesne), petabda ölçeğe dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="9763e-478">The Scality RING, our software-defined storage, turns commodity x86 servers into an unlimited storage pool for any type of data –file and object– at petabyte scale.</span></span>

<span data-ttu-id="9763e-479">**CLOUYEN**</span><span class="sxs-lookup"><span data-stu-id="9763e-479">**CLOUDIAN**</span></span>

<span data-ttu-id="9763e-480">[Clou,](https://www.cloudian.com/) çok büyük veri kümelerini tek ve kolayca yönetilen bir ortama birleştiren sınırsız sayıda ölçeklenebilir depolamaya sahip kurumsal depolamayı basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="9763e-480">[Cloudian](https://www.cloudian.com/) simplifies enterprise storage with limitless scalable storage that consolidates massive data sets to a single, easily managed environment.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9763e-481">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="9763e-481">Next steps</span></span>

<span data-ttu-id="9763e-482">Bu makalede tanıtılan kavramlar hakkında daha fazla bilgi edinmek için:</span><span class="sxs-lookup"><span data-stu-id="9763e-482">To learn more about concepts introduced in this article:</span></span>

- <span data-ttu-id="9763e-483">Azure Stack hub 'da [platformlar arası ölçekleme](pattern-cross-cloud-scale.md) ve [coğrafi olarak dağıtılmış uygulama desenleri](pattern-geo-distributed.md) .</span><span class="sxs-lookup"><span data-stu-id="9763e-483">[Cross-cloud scaling](pattern-cross-cloud-scale.md) and [Geo-distributed app patterns](pattern-geo-distributed.md) in Azure Stack Hub.</span></span>
- <span data-ttu-id="9763e-484">[Azure Kubernetes Service (AKS) üzerinde mikro hizmetler mimarisi](/azure/architecture/reference-architectures/microservices/aks).</span><span class="sxs-lookup"><span data-stu-id="9763e-484">[Microservices architecture on Azure Kubernetes Service (AKS)](/azure/architecture/reference-architectures/microservices/aks).</span></span>

<span data-ttu-id="9763e-485">Çözüm örneğini test etmeye hazır olduğunuzda, [yüksek kullanılabilirliğe sahip Kubernetes küme dağıtım kılavuzuna](solution-deployment-guide-highly-available-kubernetes.md)devam edin.</span><span class="sxs-lookup"><span data-stu-id="9763e-485">When you're ready to test the solution example, continue with the [High availability Kubernetes cluster deployment guide](solution-deployment-guide-highly-available-kubernetes.md).</span></span> <span data-ttu-id="9763e-486">Dağıtım Kılavuzu, bileşenlerinin dağıtılması ve test edilmesi için adım adım yönergeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="9763e-486">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>